Metadata-Version: 2.1
Name: iliad
Version: 0.5.0
Summary: A monorepo tool for Poetry
Home-page: https://github.com/eganjs/iliad
License: MIT
Author: Joseph Egan
Author-email: joseph.s.egan@gmail.com
Requires-Python: >=3.6,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: click (>=7.1.2,<8.0.0)
Requires-Dist: tomlkit (>=0.7.0,<0.8.0)
Project-URL: Repository, https://github.com/eganjs/iliad
Description-Content-Type: text/markdown

# iliad
A monorepo tool for [Poetry](https://github.com/python-poetry/poetry)

The intention is to make a tool that makes working with poetry in monorepos more convenient.

## Install
```shell
$ pip install iliad
```

## Quirks
- Expects to run within a git repo, uses the `.git` directory to detect the root of the monorepo.

## Usage
### List
List the poetry projects detected.
```shell
$ iliad list
//deployment
//lambdas/alpha
//lambdas/beta
//lambdas/delta
```

### Run
Runs a command (using `poetry run`) for each of the poetry projects, where the path matches the selector.

Prints out errors for commands that fail.
```shell
$ iliad run --selector lambdas -- pytest -v --capture=no
[done] //lambdas/alpha
[failed(2)] //lambdas/beta
[done] //lambdas/delta

failures:
[//lambdas/beta] failed with return code 2
[//lambdas/beta:stdout] ...
[//lambdas/beta:stderr] ...
```

