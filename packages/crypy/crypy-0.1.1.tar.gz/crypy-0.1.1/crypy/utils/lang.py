percentages = {
    'fr': {'a': 7.636, 'b': 0.901, 'c': 3.26, 'd': 3.669, 'e': 14.715, 'f': 1.066, 'g': 0.866, 'h': 0.737, 'i': 7.529, 'j': 0.613, 'k': 0.049, 'l': 5.456, 'm': 2.968, 'n': 7.095, 'o': 5.796, 'p': 2.521, 'q': 1.362, 'r': 6.693, 's': 7.948, 't': 7.244, 'u': 6.311, 'v': 1.838, 'w': 0.074, 'x': 0.427, 'y': 0.128, 'z': 0.326},
    'de': {'a': 6.516, 'b': 1.886, 'c': 2.732, 'd': 5.076, 'e': 16.396, 'f': 1.656, 'g': 3.009, 'h': 4.577, 'i': 6.55, 'j': 0.268, 'k': 1.417, 'l': 3.437, 'm': 2.534, 'n': 9.776, 'o': 2.594, 'p': 0.67, 'q': 0.018, 'r': 7.003, 's': 7.27, 't': 6.154, 'u': 4.166, 'v': 0.846, 'w': 1.921, 'x': 0.034, 'y': 0.039, 'z': 1.134},
    'es': {'a': 11.525, 'b': 2.215, 'c': 4.019, 'd': 5.01, 'e': 12.181, 'f': 0.692, 'g': 1.768, 'h': 0.703, 'i': 6.247, 'j': 0.493, 'k': 0.011, 'l': 4.967, 'm': 3.157, 'n': 6.712, 'o': 8.683, 'p': 2.51, 'q': 0.877, 'r': 6.871, 's': 7.977, 't': 4.632, 'u': 2.927, 'v': 1.138, 'w': 0.017, 'x': 0.215, 'y': 1.008, 'z': 0.467},
    'pt': {'a': 14.634, 'b': 1.043, 'c': 3.882, 'd': 4.992, 'e': 12.57, 'f': 1.023, 'g': 1.303, 'h': 0.781, 'i': 6.186, 'j': 0.397, 'k': 0.015, 'l': 2.779, 'm': 4.738, 'n': 4.446, 'o': 9.735, 'p': 2.523, 'q': 1.204, 'r': 6.53, 's': 6.805, 't': 4.336, 'u': 3.639, 'v': 1.575, 'w': 0.037, 'x': 0.253, 'y': 0.006, 'z': 0.47},
    'eo': {'a': 12.117, 'b': 0.98, 'c': 0.776, 'd': 3.044, 'e': 8.995, 'f': 1.037, 'g': 1.171, 'h': 0.384, 'i': 10.012, 'j': 3.501, 'k': 4.163, 'l': 6.104, 'm': 2.994, 'n': 7.955, 'o': 8.779, 'p': 2.755, 'q': 0, 'r': 5.914, 's': 6.092, 't': 5.276, 'u': 3.183, 'v': 1.904, 'w': 0, 'x': 0, 'y': 0, 'z': 0.494},
    'it': {'a': 11.745, 'b': 0.927, 'c': 4.501, 'd': 3.736, 'e': 11.792, 'f': 1.153, 'g': 1.644, 'h': 0.636, 'i': 10.143, 'j': 0.011, 'k': 0.009, 'l': 6.51, 'm': 2.512, 'n': 6.883, 'o': 9.832, 'p': 3.056, 'q': 0.505, 'r': 6.367, 's': 4.981, 't': 5.623, 'u': 3.011, 'v': 2.097, 'w': 0.033, 'x': 0.003, 'y': 0.02, 'z': 1.181},
    'tr': {'a': 12.92, 'b': 2.844, 'c': 1.463, 'd': 5.206, 'e': 9.912, 'f': 0.461, 'g': 1.253, 'h': 1.212, 'i': 9.6, 'j': 0.034, 'k': 5.683, 'l': 5.922, 'm': 3.752, 'n': 7.987, 'o': 2.976, 'p': 0.886, 'q': 0, 'r': 7.722, 's': 3.014, 't': 3.314, 'u': 3.235, 'v': 0.959, 'w': 0, 'x': 0, 'y': 3.336, 'z': 1.5},
    'sv': {'a': 9.383, 'b': 1.535, 'c': 1.486, 'd': 4.702, 'e': 10.149, 'f': 2.027, 'g': 2.862, 'h': 2.09, 'i': 5.817, 'j': 0.614, 'k': 3.14, 'l': 5.275, 'm': 3.471, 'n': 8.542, 'o': 4.482, 'p': 1.839, 'q': 0.02, 'r': 8.431, 's': 6.59, 't': 7.691, 'u': 1.919, 'v': 2.415, 'w': 0.142, 'x': 0.159, 'y': 0.708, 'z': 0.07},
    'pl': {'a': 10.503, 'b': 1.74, 'c': 3.895, 'd': 3.725, 'e': 7.352, 'f': 0.143, 'g': 1.731, 'h': 1.015, 'i': 8.328, 'j': 1.836, 'k': 2.753, 'l': 2.564, 'm': 2.515, 'n': 6.237, 'o': 6.667, 'p': 2.445, 'q': 0, 'r': 5.243, 's': 5.224, 't': 2.475, 'u': 2.062, 'v': 0.012, 'w': 5.813, 'x': 0.004, 'y': 3.206, 'z': 4.852},
    'nl': {'a': 7.486, 'b': 1.584, 'c': 1.242, 'd': 5.933, 'e': 17.324, 'f': 0.805, 'g': 3.403, 'h': 2.38, 'i': 6.499, 'j': 1.461, 'k': 2.248, 'l': 3.568, 'm': 2.213, 'n': 10.032, 'o': 6.063, 'p': 1.37, 'q': 0.009, 'r': 6.411, 's': 5.733, 't': 6.923, 'u': 2.192, 'v': 1.854, 'w': 1.821, 'x': 0.036, 'y': 0.035, 'z': 1.374},
    'da': {'a': 6.025, 'b': 2.0, 'c': 0.565, 'd': 5.858, 'e': 15.453, 'f': 2.406, 'g': 4.077, 'h': 1.621, 'i': 6.0, 'j': 0.73, 'k': 3.395, 'l': 5.229, 'm': 3.237, 'n': 7.24, 'o': 4.636, 'p': 1.756, 'q': 0.007, 'r': 8.956, 's': 5.805, 't': 6.862, 'u': 1.979, 'v': 2.332, 'w': 0.069, 'x': 0.028, 'y': 0.698, 'z': 0.034},
    'is': {'a': 10.11, 'b': 1.043, 'c': 0, 'd': 1.575, 'e': 6.418, 'f': 3.013, 'g': 4.241, 'h': 1.871, 'i': 7.578, 'j': 1.144, 'k': 3.314, 'l': 4.532, 'm': 4.041, 'n': 7.711, 'o': 2.166, 'p': 0.789, 'q': 0, 'r': 8.581, 's': 5.63, 't': 4.953, 'u': 4.562, 'v': 2.437, 'w': 0, 'x': 0.046, 'y': 0.9, 'z': 0},
    'fi': {'a': 12.217, 'b': 0.281, 'c': 0.281, 'd': 1.043, 'e': 7.968, 'f': 0.194, 'g': 0.392, 'h': 1.851, 'i': 10.817, 'j': 2.042, 'k': 4.973, 'l': 5.761, 'm': 3.202, 'n': 8.826, 'o': 5.614, 'p': 1.842, 'q': 0.013, 'r': 2.872, 's': 7.862, 't': 8.75, 'u': 5.008, 'v': 2.25, 'w': 0.094, 'x': 0.031, 'y': 1.745, 'z': 0.051},
    'cs': {'a': 8.421, 'b': 0.822, 'c': 0.74, 'd': 3.475, 'e': 7.562, 'f': 0.084, 'g': 0.092, 'h': 1.356, 'i': 6.073, 'j': 1.433, 'k': 2.894, 'l': 3.802, 'm': 2.446, 'n': 6.468, 'o': 6.695, 'p': 1.906, 'q': 0.001, 'r': 4.799, 's': 5.212, 't': 5.727, 'u': 2.16, 'v': 5.344, 'w': 0.016, 'x': 0.027, 'y': 1.043, 'z': 1.503},
    'en': {'a': 8.167, 'b': 1.492, 'c': 2.782, 'd': 4.253, 'e': 12.702, 'f': 2.228, 'g': 2.015, 'h': 6.094, 'i': 6.966, 'j': 0.153, 'k': 0.772, 'l': 4.025, 'm': 2.406, 'n': 6.749, 'o': 7.507, 'p': 1.929, 'q': 0.095, 'r': 5.987, 's': 6.327, 't': 9.056, 'u': 2.758, 'v': 0.978, 'w': 2.360, 'x': 0.150, 'y': 1.974, 'z': 0.074},
}


def get_ic(data):
    ic = 0
    alphabet = set(data)
    denominator = len(data)*(len(data)-1)/len(alphabet)
    for a in alphabet:
        n_i = data.count(a)
        ic += n_i*(n_i-1)/denominator
    return ic


def get_mic(data, language="en"):
    mic = 0
    alphabet = set(data)
    for a in alphabet:
        lang_percentage = percentages[language].get(a)
        if lang_percentage is None:
            lang_percentage = 0
        mic += data.count(a)*lang_percentage
    return mic
