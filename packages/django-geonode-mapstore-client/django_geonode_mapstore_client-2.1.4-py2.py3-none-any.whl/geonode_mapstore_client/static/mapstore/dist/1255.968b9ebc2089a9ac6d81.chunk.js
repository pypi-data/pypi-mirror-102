(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[1255],{85148:(e,r,t)=>{"use strict";t.d(r,{Qw:()=>g,jo:()=>b,m$:()=>m,AF:()=>O,WT:()=>v,ns:()=>j,RP:()=>h,aK:()=>w,oP:()=>P});var n=t(75110),u=t(22222),i=t(27361),o=t.n(i),c=t(13311),f=t.n(c);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var g=function(e,r){return function(t){return o()(t,"dimension.data[".concat(r,"][").concat(e,"]"))}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return f()(e.dimensions||[],{name:r})},b=function(e,r){return function(t){return g(e.id,r)(t)||p(e,r)}},m=function(e){return(0,n.l2)(e).reduce((function(r,t){var n=b(t,"time")(e);return n?d(d({},r),{},y({},t.id,n)):r}),{})},O=function(e){return(0,n.l2)(e).filter((function(r){var t=o()(e,"timeline.settings.showHiddenLayers"),n=p(r,"time");return(t||r.visibility)&&n}))},v=function(e){var r=o()(e,"dimension.currentTime");return r&&r.split("/")[0]},j=function(e){return o()(e,"dimension.offsetTime")},h=function(e){return!!j(e)},w=((0,u.P1)(m,(function(e){return Object.keys(e).reduce((function(r,t){return[].concat(a(r),a(e[t]&&e[t].values||[]))}),[]).sort()||[]})),function(e){return function(r){return a(o()(b(e,"time")(r),"values",[])).sort()}}),P=function(e,r){var t=g(r,"time")(e),n=t&&t.domain&&t.domain.split("--");if(n&&2===n.length)return n&&{start:n[0],end:n[1]};var u=t&&t.domain&&t.domain.split(",");return u&&u.length>0?{start:u[0],end:u[u.length-1]}:null}},31255:(e,r,t)=>{"use strict";t.d(r,{u$:()=>w,PI:()=>P,_w:()=>q,eO:()=>S,kG:()=>D,P3:()=>A,bq:()=>L,LB:()=>T,b4:()=>E,M0:()=>I,Li:()=>_,Rd:()=>C,g5:()=>M,Sj:()=>G,o:()=>z,eK:()=>K,jY:()=>x,ND:()=>N,OK:()=>R,tU:()=>Q,ou:()=>U,DK:()=>H,Gl:()=>V,uz:()=>W,Ci:()=>$,Ae:()=>B,gz:()=>Y,He:()=>X,P4:()=>J,kd:()=>Z,TC:()=>ee,nq:()=>re,Vf:()=>te});var n=t(91175),u=t.n(n),i=t(27361),o=t.n(i),c=t(13218),f=t.n(c),a=t(75110),l=t(78889),s=t(8316),d=t(52259),y=t(96958),g=t(85148),p=t(74621),b=t(93152),m=t(24260);function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){j(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var h=a.CA,w=function(e){return o()(e,"featuregrid.selectedLayer")},P=function(e){return o()(e,"featuregrid.chartDisabled",!1)},q=function(e){return e&&e.featuregrid&&e.featuregrid.select},S=function(e){return e&&e.featuregrid&&e.featuregrid.changes},D=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},A=function(e){return u()(q(e))},F=function(e){var r=(0,m.Qs)(e);if(r){var t=(0,l.findGeometryProperty)(r);return t&&t.localType}return null},k=["Geometry","GeometryCollection"],L=function(e){return!u()(k.filter((function(r){return F(e)===r})))},T=function(e){return S(e)&&S(e).length>0},E=function(e){return D(e)&&D(e).length>0},I=function(e){return e&&e.featuregrid&&e.featuregrid.filters},_=function(e){return h(e,w(e))},C=function(e){return e&&e.featuregrid&&e.featuregrid.open},M=function(e,r){return o()(I(e),r)},G=function(e){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(h(e,w(e)));return f()(r)?r[(0,s.Pz)(e)]||r.default||"":r},z=function(e){return((0,m.L)(e)||[]).map((function(r){var t=function(e,r){return o()(e,"featuregrid.attributes[".concat(r.name||r.attribute,"]"))}(e,r);return t?v(v({},r),t):r}))},K=function(e){return e&&e.featuregrid&&e.featuregrid.mode},x=function(e){return(q(e)||[]).length},N=function(e){return(0,y.rK)(S(e))},R=function(e){return function(e){var r=A(e);if(r){var t=(0,y.rK)(S(e));return!((!t[r.id]||null===t[r.id].geometry)&&(t[r.id]&&null===t[r.id].geometry||r._new&&u()(D(e))&&null===u()(D(e)).geometry||(!r._new||!u()(D(e))||null===u()(D(e)).geometry)&&null===r.geometry))}return!1}(e)},Q=function(e){return o()(e,"featuregrid.showAgain",!1)},U=function(e){if(o()(e,"featuregrid.showTimeSync",!1)){var r=w(e);return(0,g.jo)({id:r},"time")(e)}return null},H=function(e){return o()(e,"featuregrid.timeSync",!1)},V=function(e){return o()(e,"featuregrid.showPopoverSync",!0)},W=function(e){return e&&e.featuregrid&&e.featuregrid.saving},$=function(e){return e&&e.featuregrid&&e.featuregrid.saved},B=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},Y=function(e){return o()(e,"featuregrid.multiselect",!1)},X=function(e){return(0,d.isSimpleGeomType)(F(e))},J=function(e){return e.featuregrid&&e.featuregrid.dockSize},Z=function(e){var r=h(e,w(e));return r&&r.name||""},ee=function(e){var r=function(e){return o()(h(e,w(e)),"params")}(e);return{viewParams:r&&(r.VIEWPARAMS||r.viewParams||r.viewparams),cqlFilter:r&&(r.CQL_FILTER||r.cqlFilter||r.cql_filter)}},re=function(e){var r=(0,p.L3)(e),t=function(e){return o()(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],n=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==t.indexOf(r)||n)&&!(0,b.c0)(e)},te=function(e){return o()(e,"featuregrid.pagination")}},24260:(e,r,t)=>{"use strict";t.d(r,{qj:()=>O,Bu:()=>v,UM:()=>j,X1:()=>h,L:()=>w,HY:()=>P,Mz:()=>q,F0:()=>S,dc:()=>D,b0:()=>A,hk:()=>F,Qs:()=>k,gy:()=>L,M7:()=>T,VD:()=>E});var n=t(14293),u=t.n(n),i=t(27361),o=t.n(i),c=t(91175),f=t.n(c),a=t(1469),l=t.n(a),s=t(30998),d=t.n(s);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var b=function(e){return o()(e,"query.filterObj.featureTypeName")},m=function(e){return function(r){return o()(r,'query.featureTypes["'.concat(e,'"]'))}},O=function(e,r){return o()(m(r)(e),"original")},v=function(e){return e&&e.query&&e.query.searchUrl},j=function(e){return e&&e.query&&e.query.url},h=function(e){return e&&e.query&&e.query.filterObj},w=function(e){return o()(m(b(e))(e),"attributes")},P=function(e){return o()(e,"query.typeName")},q=function(e){return o()(e,"query.result.features")},S=function(e){var r=o()(e,"query.result");return g(g({},r),{},{features:(r&&r.features||[]).filter((function(e){return!u()(e.geometry)}))})},D=function(e,r){var t=e&&e.query&&e.query.result&&e.query.result.features;return f()(t.filter((function(e){return e.id===r})))},A={startIndex:function(e){return o()(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return o()(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return o()(e,"query.result.features.length")},totalFeatures:function(e){return o()(e,"query.result.totalFeatures")}},F=function(e,r){var t=m(r)(e);return!!(t&&t.attributes&&t.geometry&&t.original)},k=function(e){return O(e,b(e))},L=function(e){return o()(e,"query.featureLoading")},T=function(e){return o()(e,"query.syncWmsFilter",!1)},E=function(e){var r=o()(e,"query.filterObj.crossLayerFilter"),t=o()(e,"query.filterObj.spatialField"),n=o()(e,"query.filterObj.filterFields");return!!(n&&f()(n)||t&&(t.method&&t.operation&&t.geometry||l()(t)&&d()(t,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||r&&r.collectGeometries&&r.operation)}}}]);