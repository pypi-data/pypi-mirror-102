(self.webpackChunk=self.webpackChunk||[]).push([["CreateTeamModal"],{"./app/actionCreators/teams.tsx":(e,t,r)=>{"use strict";r.d(t,{eM:()=>u,z_:()=>c,fs:()=>m,um:()=>d,s:()=>p,Cm:()=>f,tT:()=>h});var o=r("./app/actionCreators/indicator.tsx"),n=r("./app/actions/teamActions.tsx"),s=r("./app/locale.tsx");if("app"==r.j)var a=r("./app/utils/callIfFunction.tsx");if("app"==r.j)var i=r("./app/utils/guid.tsx");var l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length,o=new Array(r>2?r-2:0),n=2;n<r;n++)o[n-2]=arguments[n];a.g.apply(void 0,[e[t]].concat(o))};function u(e,t,r){return n.Z.fetchDetails(t.teamId),e.request("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{success:function(e){n.Z.fetchDetailsSuccess(t.teamId,e),l(r,"success",e)},error:function(e){n.Z.fetchDetailsError(t.teamId,e),l(r,"error",e)}})}function c(e,t){n.Z.updateSuccess(e,t)}function m(e,t,r){var o="/teams/".concat(t.orgId,"/").concat(t.teamId,"/");return n.Z.update(t.teamId,t.data),e.request(o,{method:"PUT",data:t.data,success:function(e){c(t.teamId,e),l(r,"success",e)},error:function(e){n.Z.updateError(t.teamId,e),l(r,"error",e)}})}function d(e,t,r){var o,s="/organizations/".concat(t.orgId,"/members/").concat(null!==(o=t.memberId)&&void 0!==o?o:"me","/teams/").concat(t.teamId,"/"),a=(0,i.E)();return n.Z.update(a,t.teamId),e.request(s,{method:"POST",success:function(e){n.Z.updateSuccess(t.teamId,e),l(r,"success",e)},error:function(e){n.Z.updateError(a,t.teamId,e),l(r,"error",e)}})}function p(e,t,r){var o="/organizations/".concat(t.orgId,"/members/").concat(t.memberId||"me","/teams/").concat(t.teamId,"/"),s=(0,i.E)();return n.Z.update(s,t.teamId),e.request(o,{method:"DELETE",success:function(e){n.Z.updateSuccess(t.teamId,e),l(r,"success",e)},error:function(e){n.Z.updateError(s,t.teamId,e),l(r,"error",e)}})}function f(e,t,r){return n.Z.createTeam(t),e.requestPromise("/organizations/".concat(r.orgId,"/teams/"),{method:"POST",data:t}).then((function(e){return n.Z.createTeamSuccess(e),(0,o.S9)((0,s._N)("[team] has been added to the [organization] organization",{team:"#".concat(e.slug),organization:r.orgId})),e}),(function(e){throw n.Z.createTeamError(t.slug,e),(0,o.Iw)((0,s._N)("Unable to create [team] in the [organization] organization",{team:"#".concat(t.slug),organization:r.orgId})),e}))}function h(e,t){return n.Z.removeTeam(t.teamId),e.requestPromise("/teams/".concat(t.orgId,"/").concat(t.teamId,"/"),{method:"DELETE"}).then((function(e){return n.Z.removeTeamSuccess(t.teamId,e),(0,o.S9)((0,s._N)("[team] has been removed from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}),(function(e){throw n.Z.removeTeamError(t.teamId,e),(0,o.Iw)((0,s._N)("Unable to remove [team] from the [organization] organization",{team:"#".concat(t.teamId),organization:t.orgId})),e}))}},"./app/actions/teamActions.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r("../../../../node_modules/reflux/src/index.js");const n=r.n(o)().createActions(["createTeam","createTeamError","createTeamSuccess","fetchAll","fetchAllError","fetchAllSuccess","fetchDetails","fetchDetailsError","fetchDetailsSuccess","loadTeams","removeTeam","removeTeamError","removeTeamSuccess","update","updateError","updateSuccess"])},"./app/components/modals/createTeamModal.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var o=r("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),n=r("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),d=r("../../../../node_modules/react/index.js"),p=r("./app/actionCreators/teams.tsx"),f=r("./app/components/teams/createTeamForm.tsx"),h=r("./app/locale.tsx"),b=r("./app/utils/withApi.tsx"),g=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var v=function(e){(0,l.Z)(v,e);var t,r,b=(t=v,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(r){var n=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,u.Z)(this,e)});function v(){var e;(0,s.Z)(this,v);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=b.call.apply(b,[this].concat(r)),(0,m.Z)((0,i.Z)(e),"handleSubmit",(function(t,r,o){var n=e.props,s=n.organization,a=n.api;(0,p.Cm)(a,t,{orgId:s.slug}).then((function(t){e.handleSuccess(t),r(t)})).catch((function(e){o(e)}))})),e}return(0,a.Z)(v,[{key:"handleSuccess",value:function(e){this.props.onClose&&this.props.onClose(e),this.props.closeModal()}},{key:"render",value:function(){var e=this.props,t=e.Body,r=e.Header,s=e.closeModal,a=(0,n.Z)(e,["Body","Header","closeModal"]);return(0,g.tZ)(d.Fragment,null,(0,g.tZ)(r,{closeButton:!0,onHide:s},(0,h.t)("Create Team")),(0,g.tZ)(t,null,(0,g.tZ)(f.Z,(0,o.Z)({},a,{onSubmit:this.handleSubmit}))))}}]),v}(d.Component);v.displayName="CreateTeamModal";const Z=(0,b.Z)(v)},"./app/components/teams/createTeamForm.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var o=r("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),n=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=r("../../../../node_modules/react/index.js"),d=r("./app/locale.tsx"),p=r("./app/utils/callIfFunction.tsx"),f=r("./app/utils/slugify.tsx"),h=r("./app/views/settings/components/forms/form.tsx"),b=r("./app/views/settings/components/forms/textField.tsx"),g=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var v=function(e){(0,i.Z)(Z,e);var t,r,v=(t=Z,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,l.Z)(this,e)});function Z(){var e;(0,n.Z)(this,Z);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=v.call.apply(v,[this].concat(r)),(0,c.Z)((0,a.Z)(e),"handleSubmit",(function(t,r,o){(0,p.g)(e.props.onSubmit,t,r,o)})),(0,c.Z)((0,a.Z)(e),"handleCreateTeamSuccess",(function(t){(0,p.g)(e.props.onSuccess,t)})),e}return(0,s.Z)(Z,[{key:"render",value:function(){var e=this.props.organization;return(0,g.tZ)(m.Fragment,null,(0,g.tZ)("p",null,(0,d.t)("Members of a team have access to specific areas, such as a new release or a new application feature.")),(0,g.tZ)(h.Z,(0,o.Z)({submitLabel:(0,d.t)("Create Team"),apiEndpoint:"/organizations/".concat(e.slug,"/teams/"),apiMethod:"POST",onSubmit:this.handleSubmit,onSubmitSuccess:this.handleCreateTeamSuccess,requireChanges:!0,"data-test-id":"create-team-form"},this.props.formProps),(0,g.tZ)(b.Z,{name:"slug",label:(0,d.t)("Team Name"),placeholder:(0,d.t)("e.g. operations, web-frontend, desktop"),help:(0,d.t)("May contain lowercase letters, numbers, dashes and underscores."),required:!0,stacked:!0,flexibleControlStateSize:!0,inline:!1,transformInput:f.Z})))}}]),Z}(m.Component);v.displayName="CreateTeamForm"},"./app/utils/slugify.tsx":(e,t,r)=>{"use strict";function o(e){return"string"==typeof e?e.toLowerCase().replace(" ","-"):""}r.d(t,{Z:()=>o})},"./app/utils/withApi.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var o=r("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=r("../../../../node_modules/react/index.js"),d=r("./app/api.tsx"),p=r("./app/utils/getDisplayName.tsx"),f=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,u.Z)(e);if(t){var n=(0,u.Z)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return(0,l.Z)(this,r)}}const v=function(e){var t,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.persistInFlight;return r=t=function(t){(0,i.Z)(l,t);var r=g(l);function l(e){var t;return(0,n.Z)(this,l),t=r.call(this,e),(0,c.Z)((0,a.Z)(t),"api",void 0),t.api=new d.KU,t}return(0,s.Z)(l,[{key:"componentWillUnmount",value:function(){u||this.api.clear()}},{key:"render",value:function(){var t=this.props,r=t.api,n=(0,o.Z)(t,["api"]);return(0,f.tZ)(e,b({api:null!=r?r:this.api},n))}}]),l}(m.Component),(0,c.Z)(t,"displayName","withApi(".concat((0,p.Z)(e),")")),r}},"./app/views/settings/components/forms/form.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var o=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),n=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),m=r("../../../../node_modules/react/index.js"),d=r("../../../../node_modules/mobx-react-lite/es/index.js"),p=r("../../../../node_modules/prop-types/index.js"),f=r.n(p),h=r("./app/components/button.tsx"),b=r("./app/components/panels/panel.tsx"),g=r("./app/locale.tsx"),v=r("./app/styles/space.tsx"),Z=r("./app/utils/isRenderFunc.tsx"),y=r("./app/views/settings/components/forms/model.tsx"),x=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var j=function(e){(0,a.Z)(m,e);var t,r,c=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(r){var n=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function m(e,t){var r;(0,o.Z)(this,m),r=c.call(this,e,t),(0,u.Z)((0,s.Z)(r),"model",r.props.model||new y.Z),(0,u.Z)((0,s.Z)(r),"onSubmit",(function(e){var t,o;!r.props.skipPreventDefault&&e.preventDefault(),r.model.isSaving||(null===(t=(o=r.props).onPreSubmit)||void 0===t||t.call(o),r.props.onSubmit?r.props.onSubmit(r.model.getData(),r.onSubmitSuccess,r.onSubmitError,e,r.model):r.model.saveForm())})),(0,u.Z)((0,s.Z)(r),"onSubmitSuccess",(function(e){var t=r.props.onSubmitSuccess;r.model.submitSuccess(e),t&&t(e,r.model)})),(0,u.Z)((0,s.Z)(r),"onSubmitError",(function(e){var t=r.props.onSubmitError;r.model.submitError(e),t&&t(e,r.model)}));var n=e.saveOnBlur,a=e.apiEndpoint,i=e.apiMethod,l=e.resetOnError,d=e.onSubmitSuccess,p=e.onSubmitError,f=e.onFieldChange,h=e.initialData,b=e.allowUndo;return r.model.setInitialData(h),r.model.setFormOptions({resetOnError:l,allowUndo:b,onFieldChange:f,onSubmitSuccess:d,onSubmitError:p,saveOnBlur:n,apiEndpoint:a,apiMethod:i}),r}return(0,n.Z)(m,[{key:"getChildContext",value:function(){return{saveOnBlur:this.props.saveOnBlur,form:this.model}}},{key:"componentWillUnmount",value:function(){this.model.reset()}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,o=t.children,n=t.footerClass,s=t.footerStyle,a=t.submitDisabled,i=t.submitLabel,l=t.submitPriority,u=t.cancelLabel,c=t.onCancel,m=t.extraButton,p=t.requireChanges,f=t.saveOnBlur,b=t.hideFooter,v=void 0!==b?!b:!f;return(0,x.tZ)("form",{onSubmit:this.onSubmit,className:null!=r?r:"form-stacked","data-test-id":this.props["data-test-id"]},(0,x.tZ)("div",null,(0,Z.l)(o)?o({model:this.model}):o),v&&(0,x.tZ)(S,{className:n,style:s,saveOnBlur:f},m,(0,x.tZ)(_,null,c&&(0,x.tZ)(d.Qj,null,(function(){return(0,x.tZ)(h.ZP,{type:"button",disabled:e.model.isSaving,onClick:c,style:{marginLeft:5}},null!=u?u:(0,g.t)("Cancel"))})),(0,x.tZ)(d.Qj,null,(function(){return(0,x.tZ)(h.ZP,{"data-test-id":"form-submit",priority:null!=l?l:"primary",disabled:e.model.isError||e.model.isSaving||a||!!p&&!e.model.formChanged,type:"submit"},null!=i?i:(0,g.t)("Save Changes"))})))))}}]),m}(m.Component);j.displayName="Form",(0,u.Z)(j,"childContextTypes",{saveOnBlur:f().bool,form:f().object});var S=(0,c.Z)("div",{target:"e1r1zmbj0",label:"StyledFooter"})("display:flex;justify-content:flex-end;margin-top:25px;border-top:1px solid #e9ebec;background:none;padding:16px 0 0;margin-bottom:16px;",(function(e){return!e.saveOnBlur&&"\n  ".concat(b.Z," & {\n    margin-top: 0;\n    padding-right: 36px;\n  }\n\n  /* Better padding with form inside of a modal */\n  .modal-content & {\n    padding-right: 30px;\n    margin-left: -30px;\n    margin-right: -30px;\n    margin-bottom: -30px;\n    margin-top: 16px;\n    padding-bottom: 16px;\n  }\n  ")}),";"),_=(0,c.Z)("div",{target:"e1r1zmbj1",label:"DefaultButtons"})("display:grid;grid-gap:",(0,v.Z)(1),";grid-auto-flow:column;justify-content:flex-end;flex:1;")},"./app/views/settings/components/forms/textField.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var o=r("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),n=(r("../../../../node_modules/react/index.js"),r("./app/views/settings/components/forms/inputField.tsx")),s=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function a(e){return(0,s.tZ)(n.Z,(0,o.Z)({},e,{type:"text"}))}a.displayName="TextField"}}]);
//# sourceMappingURL=CreateTeamModal.js.map