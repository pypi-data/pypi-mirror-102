(self.webpackChunk=self.webpackChunk||[]).push([["PlatformOrIntegration"],{"./app/components/sentryDocumentTitle.tsx":(t,e,n)=>{"use strict";n.d(e,{Z:()=>s}),n("../../../../node_modules/react/index.js");var r=n("../../../../node_modules/react-document-title/index.js"),o=n.n(r),a=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function i(t){var e=t.title,n=t.orgSlug,r=t.projectSlug,i=t.children,s=n||r?n&&r?"".concat(e," - ").concat(n," - ").concat(r):n?"".concat(e," - ").concat(n):"".concat(e," - ").concat(r):e;return(0,a.tZ)(o(),{title:"".concat(s," - Sentry")},i)}i.displayName="SentryDocumentTitle";const s=i},"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>st});var r=n("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../../../node_modules/react/index.js"),a=n("../../../../node_modules/query-string/index.js"),i=n("./app/utils/integrationUtil.tsx"),s=n("../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),c=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),p=n("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),d=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),m=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),g=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),f=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),h=n("../../../../node_modules/@babel/runtime/regenerator/index.js"),Z=n.n(h),y=(n("../../../../node_modules/prism-sentry/index.css"),n("../../../../node_modules/react-router/es/index.js")),b=n("./app/actionCreators/projects.tsx"),v=n("./app/components/acl/feature.tsx"),w=n("./app/components/alert.tsx"),j=n("./app/components/button.tsx"),x=n("./app/components/buttonBar.tsx"),k=n("./app/components/errors/notFound.tsx"),S=n("./app/components/loadingError.tsx"),I=n("./app/components/loadingIndicator.tsx"),P=n("./app/components/sentryDocumentTitle.tsx"),_=n("./app/data/platformCategories.tsx"),O=n("./app/data/platforms.tsx"),z=n("./app/icons/index.tsx"),D=n("./app/locale.tsx"),T=n("./app/styles/organization.tsx"),C=n("./app/styles/space.tsx"),B=n("./app/utils/projects.tsx"),R=n("./app/utils/withApi.tsx"),F=n("./app/utils/withOrganization.tsx"),N=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var L=function(t){(0,u.Z)(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,m.Z)(e);if(n){var o=(0,m.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,d.Z)(this,t)});function a(){var t;(0,l.Z)(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r.call.apply(r,[this].concat(n)),(0,g.Z)((0,p.Z)(t),"state",{loading:!0,error:!1,html:""}),(0,g.Z)((0,p.Z)(t),"fetchData",(0,s.Z)(Z().mark((function e(){var n,r,o,a,i,s,l,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props,r=n.api,o=n.params,a=o.orgId,i=o.projectId,s=o.platform,t.setState({loading:!0}),e.prev=3,e.next=6,(0,b.iC)(r,a,i,s);case 6:l=e.sent,c=l.html,t.setState({html:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t.setState({error:e.t0});case 14:t.setState({loading:!1});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))),t}return(0,c.Z)(a,[{key:"componentDidMount",value:function(){this.fetchData(),window.scrollTo(0,0);var t=this.props.params.platform;t&&"other"!==t||this.redirectToNeutralDocs()}},{key:"isGettingStarted",get:function(){return window.location.href.indexOf("getting-started")>0}},{key:"redirectToNeutralDocs",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId,r="/organizations/".concat(e,"/projects/").concat(n,"/getting-started/");y.browserHistory.push(r)}},{key:"render",value:function(){var t,e=this.props.params,n=e.orgId,r=e.projectId,a=O.Z.find((function(t){return t.id===e.platform}));if(!a)return(0,N.tZ)(k.Z,null);var i="/organizations/".concat(n,"/issues/"),s="/organizations/".concat(n,"/performance/"),l="/organizations/".concat(n,"/projects/").concat(r,"/getting-started/"),c=null!==(t=a.link)&&void 0!==t?t:void 0;return(0,N.tZ)(o.Fragment,null,(0,N.tZ)(H,null,(0,N.tZ)("h2",null,(0,D.t)("Configure %(platform)s",{platform:a.name})),(0,N.tZ)(x.Z,{gap:1},(0,N.tZ)(j.ZP,{size:"small",to:l},(0,D.t)("< Back")),(0,N.tZ)(j.ZP,{size:"small",href:c,external:!0},(0,D.t)("Full Documentation")))),(0,N.tZ)("div",null,(0,N.tZ)(w.Z,{type:"info",icon:(0,N.tZ)(z.aU,null)},(0,D._N)("\n             This is a quick getting started guide. For in-depth instructions\n             on integrating Sentry with [platform], view\n             [docLink:our complete documentation].",{platform:a.name,docLink:(0,N.tZ)("a",{href:c})})),this.state.loading?(0,N.tZ)(I.Z,null):this.state.error?(0,N.tZ)(S.Z,{onRetry:this.fetchData}):(0,N.tZ)(o.Fragment,null,(0,N.tZ)(P.Z,{title:"".concat((0,D.t)("Configure")," ").concat(a.name),projectSlug:r}),(0,N.tZ)(A,{dangerouslySetInnerHTML:{__html:this.state.html}})),this.isGettingStarted&&(0,N.tZ)(B.Z,{key:"".concat(n,"-").concat(r),orgId:n,slugs:[r],passthroughPlaceholderProject:!1},(function(t){var e=t.projects,n=t.initiallyLoaded,r=t.fetching,l=t.fetchError,c=!n&&r,p=c||l||!e.length?{}:{project:e[0].id},u=_.Sv.includes(a.id);return(0,N.tZ)(o.Fragment,null,u&&(0,N.tZ)(v.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project"},(function(t){return t.hasFeature?null:(0,N.tZ)(M,{type:"info",icon:(0,N.tZ)(z.aU,null)},(0,D.t)("Your selected platform supports performance, but your organization does not have performance enabled."))})),(0,N.tZ)(E,{gap:1},(0,N.tZ)(j.ZP,{priority:"primary",busy:c,to:{pathname:i,query:p,hash:"#welcome"}},(0,D.t)("Take me to Issues")),(0,N.tZ)(j.ZP,{busy:c,to:{pathname:s,query:p}},(0,D.t)("Take me to Performance"))))}))))}}]),a}(o.Component);L.displayName="ProjectInstallPlatform";var A=(0,f.Z)("div",{target:"e1ah080m0",label:"DocumentationWrapper"})(".gatsby-highlight{margin-bottom:",(0,C.Z)(3),";&:last-child{margin-bottom:0;}}.alert{margin-bottom:",(0,C.Z)(3),";border-radius:",(function(t){return t.theme.borderRadius}),";}p{line-height:1.5;}pre{word-break:break-all;white-space:pre-wrap;}"),E=(0,f.Z)(x.Z,{target:"e1ah080m1",label:"StyledButtonBar"})("margin-top:",(0,C.Z)(3),";width:max-content;@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){width:auto;grid-row-gap:",(0,C.Z)(1),";grid-auto-flow:row;}"),H=(0,f.Z)(T.mr,{target:"e1ah080m2",label:"StyledPageHeader"})("margin-bottom:",(0,C.Z)(3),";h2{margin:0;}@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,C.Z)(2),";}}"),M=(0,f.Z)(w.Z,{target:"e1ah080m3",label:"StyledAlert"})("margin-top:",(0,C.Z)(2),";");const q=(0,R.Z)((0,F.Z)(L));var G=n("../../../../node_modules/@babel/runtime/helpers/esm/get.js"),U=n("./app/components/asyncComponent.tsx"),W=n("./app/views/onboarding/components/firstEventFooter.tsx"),Q=n("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),Y=n("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),J=n("./app/views/organizationIntegrations/addIntegrationButton.tsx");function K(t){var e=t.gettingStartedLink,n=t.docsLink;return(0,N.tZ)(x.Z,{gap:1},(0,N.tZ)(j.ZP,{size:"small",to:e},(0,D.t)("< Back")),(0,N.tZ)(j.ZP,{size:"small",href:n,external:!0},(0,D.t)("Full Documentation")))}function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){(0,g.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}K.displayName="PlatformHeaderButtonBar";var $=function(t){(0,u.Z)(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,m.Z)(e);if(n){var o=(0,m.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,d.Z)(this,t)});function a(){var t;(0,l.Z)(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r.call.apply(r,[this].concat(n)),(0,g.Z)((0,p.Z)(t),"handleAddIntegration",(function(){t.setState({installed:!0})})),(0,g.Z)((0,p.Z)(t),"trackSwitchToManual",(function(){var e=t.props,n=e.organization,r=e.integrationSlug;(0,i.pd)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:r,view:"project_creation"},n)})),t}return(0,c.Z)(a,[{key:"getDefaultState",value:function(){return X(X({},(0,G.Z)((0,m.Z)(a.prototype),"getDefaultState",this).call(this)),{},{installed:!1,integrations:{providers:[]},project:null})}},{key:"componentDidMount",value:function(){window.scrollTo(0,0);var t=this.props.params.platform;t&&"other"!==t||this.redirectToNeutralDocs()}},{key:"provider",get:function(){var t=this.state.integrations.providers;return t.length?t[0]:null}},{key:"getEndpoints",value:function(){var t=this.props,e=t.organization,n=t.integrationSlug,r=t.params;return n?[["integrations","/organizations/".concat(e.slug,"/config/integrations/?provider_key=").concat(n)],["project","/projects/".concat(e.slug,"/").concat(r.projectId,"/")]]:[]}},{key:"redirectToNeutralDocs",value:function(){var t=this.props.params,e=t.orgId,n=t.projectId,r="/organizations/".concat(e,"/projects/").concat(n,"/getting-started/");y.browserHistory.push(r)}},{key:"render",value:function(){var t=this.props,e=t.organization,n=t.params,r=this.state,a=r.installed,i=r.project,s=n.projectId,l=n.orgId,c=n.platform,p=this.provider,u=O.Z.find((function(t){return t.id===c}));if(!p||!u||!i)return null;var d="/organizations/".concat(l,"/projects/").concat(s,"/getting-started/"),m="https://docs.sentry.io/product/integrations/aws-lambda/";return(0,N.tZ)(nt,null,(0,N.tZ)(rt,null,(0,N.tZ)(ot,null,(0,D.t)("Automatically instrument %s",u.name)),(0,N.tZ)(K,{gettingStartedLink:d,docsLink:m})),(0,N.tZ)(et,null,a?(0,N.tZ)(o.Fragment,null,(0,N.tZ)(Y.Z,{provider:p}),(0,N.tZ)(W.Z,{project:i,organization:e,docsLink:m})):(0,N.tZ)(o.Fragment,null,(0,N.tZ)(Q.Z,null),(0,N.tZ)(tt,{gap:1},(0,N.tZ)(J.Z,{provider:p,onAddIntegration:this.handleAddIntegration,organization:e,priority:"primary",size:"small",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id}}),(0,N.tZ)(j.ZP,{size:"small",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual},(0,D.t)("Manual Setup"))))))}}]),a}(U.Z);$.displayName="PlatformIntegrationSetup";var tt=(0,f.Z)(x.Z,{target:"e1u2ebw40",label:"StyledButtonBar"})("margin-top:",(0,C.Z)(3),";width:max-content;@media (max-width:",(function(t){return t.theme.breakpoints[0]}),"){width:auto;grid-row-gap:",(0,C.Z)(1),";grid-auto-flow:row;}"),et=(0,f.Z)("div",{target:"e1u2ebw41",label:"InnerWrapper"})({name:"ltfg7h",styles:"width:850px;"}),nt=(0,f.Z)("div",{target:"e1u2ebw42",label:"OuterWrapper"})({name:"iyvmju",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px;"}),rt=(0,f.Z)(T.mr,{target:"e1u2ebw43",label:"StyledPageHeader"})("margin-bottom:",(0,C.Z)(3),";"),ot=(0,f.Z)("h2",{target:"e1u2ebw44",label:"StyledTitle"})("margin:0 ",(0,C.Z)(3)," 0 0;");const at=(0,F.Z)($);var it=function(t){var e=a.Qc(window.location.search),n=t.params.platform,o=n&&i.Eo[n];return o&&"1"!==e.manual?(0,N.tZ)(at,(0,r.Z)({integrationSlug:o},t)):(0,N.tZ)(q,t)};it.displayName="PlatformOrIntegration";const st=it}}]);
//# sourceMappingURL=PlatformOrIntegration.js.map