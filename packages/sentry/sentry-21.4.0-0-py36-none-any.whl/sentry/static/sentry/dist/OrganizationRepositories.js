(self.webpackChunk=self.webpackChunk||[]).push([["OrganizationRepositories"],{"./app/actionCreators/integrations.tsx":(e,t,n)=>{"use strict";n.d(t,{cQ:()=>i,qU:()=>a,Ag:()=>u,eg:()=>c});var s=n("./app/actionCreators/indicator.tsx"),o=n("./app/api.tsx"),r=n("./app/locale.tsx");function i(e,t,n){(0,s.E3)();var o=e.requestPromise("/organizations/".concat(t,"/repos/").concat(n,"/"),{method:"DELETE"});return o.then((function(){return(0,s.B8)()}),(function(){return(0,s.Iw)((0,r.t)("Unable to delete repository."))})),o}function a(e,t,n){(0,s.E3)();var o=e.requestPromise("/organizations/".concat(t,"/repos/").concat(n,"/"),{method:"PUT",data:{status:"visible"}});return o.then((function(){return(0,s.B8)()}),(function(){return(0,s.Iw)((0,r.t)("Unable to cancel deletion."))})),o}function l(e){return e.then((function(e){var t=(0,r._N)("[repo] has been successfully added.",{repo:e.name});(0,s.S9)(t)}),(function(e){var t=e.responseJSON.errors?e.responseJSON.errors.__all__:(0,r.t)("Unable to add repository.");(0,s.Iw)(t)})),e}function u(e,t,n,o){var r={integrationId:o.id};return(0,s.E3)(),l(e.requestPromise("/organizations/".concat(t,"/repos/").concat(n,"/"),{data:r,method:"PUT"}))}function c(e,t,n,o){var r={installation:o.id,identifier:n,provider:"integrations:".concat(o.provider.key)};return(0,s.E3)(),l(e.requestPromise("/organizations/".concat(t,"/repos/"),{method:"POST",data:r}))}new o.KU},"./app/components/alertLink.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var s=n("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=n("../../../../node_modules/react/index.js"),m=n("../../../../node_modules/lodash/omit.js"),f=n.n(m),h=n("./app/components/links/externalLink.tsx"),y=n("./app/components/links/link.tsx"),b=n("./app/icons/index.tsx"),Z=n("./app/styles/space.tsx"),g=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var v=function(e){(0,a.Z)(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function o(){return(0,r.Z)(this,o),s.apply(this,arguments)}return(0,i.Z)(o,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.priority,s=e.icon,o=e.children,r=e.onClick,i=e.withoutMarginBottom,a=e.openInNewTab,l=e.to,u=e.href,c=e["data-test-id"];return(0,g.tZ)(w,{"data-test-id":c,to:l,href:u,onClick:r,size:t,priority:n,withoutMarginBottom:i,openInNewTab:a},s&&(0,g.tZ)(_,null,s),(0,g.tZ)(R,null,o),(0,g.tZ)(j,null,(0,g.tZ)(b.g6,{direction:"right"})))}}]),o}(d.Component);v.displayName="AlertLink",(0,c.Z)(v,"defaultProps",{priority:"warning",size:"normal",withoutMarginBottom:!1,openInNewTab:!1});const x=v;var w=(0,p.Z)((function(e){var t=e.openInNewTab,n=e.to,r=e.href,i=(0,o.Z)(e,["openInNewTab","to","href"]),a=f()(i,["withoutMarginBottom","priority","size"]);return r?(0,g.tZ)(h.Z,(0,s.Z)({},a,{href:r,openInNewTab:t})):(0,g.tZ)(y.Z,(0,s.Z)({},a,{to:n||""}))}),{target:"e1ylhppg0",label:"StyledLink"})("display:flex;background-color:",(function(e){return e.theme.alert[e.priority].backgroundLight}),";color:",(function(e){return e.theme.textColor}),";border:1px dashed ",(function(e){return e.theme.alert[e.priority].border}),";padding:",(function(e){return"small"===e.size?"".concat((0,Z.Z)(1)," ").concat((0,Z.Z)(1.5)):(0,Z.Z)(2)}),";margin-bottom:",(function(e){return e.withoutMarginBottom?0:(0,Z.Z)(3)}),";border-radius:0.25em;transition:0.2s border-color;&.focus-visible{outline:none;box-shadow:",(function(e){return e.theme.alert[e.priority].border}),"7f 0 0 0 2px;}"),_=(0,p.Z)("span",{target:"e1ylhppg1",label:"IconWrapper"})("display:flex;margin:",(0,Z.Z)(.5)," ",(0,Z.Z)(1.5)," ",(0,Z.Z)(.5)," 0;"),j=(0,p.Z)(_,{target:"e1ylhppg2",label:"IconLink"})("margin:",(0,Z.Z)(.5)," 0;"),R=(0,p.Z)("div",{target:"e1ylhppg3",label:"AlertLinkText"})({name:"56nju3",styles:"line-height:1.5;flex-grow:1;"})},"./app/components/repositoryRow.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var s=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=n("../../../../node_modules/react/index.js"),d=n("./app/actionCreators/integrations.tsx"),m=n("./app/components/acl/access.tsx"),f=n("./app/components/button.tsx"),h=n("./app/components/confirm.tsx"),y=n("./app/components/panels/index.tsx"),b=n("./app/components/tooltip.tsx"),Z=n("./app/icons/index.tsx"),g=n("./app/locale.tsx"),v=n("./app/styles/space.tsx"),x=n("./app/types/index.tsx"),w=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var _=function(e){(0,i.Z)(p,e);var t,n,c=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function p(){var e;(0,s.Z)(this,p);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=c.call.apply(c,[this].concat(n)),(0,u.Z)((0,r.Z)(e),"cancelDelete",(function(){var t=e.props,n=t.api,s=t.orgId,o=t.repository,r=t.onRepositoryChange;(0,d.qU)(n,s,o.id).then((function(e){r&&r(e)}),(function(){}))})),(0,u.Z)((0,r.Z)(e),"deleteRepo",(function(){var t=e.props,n=t.api,s=t.orgId,o=t.repository,r=t.onRepositoryChange;(0,d.cQ)(n,s,o.id).then((function(e){r&&r(e)}),(function(){}))})),e}return(0,o.Z)(p,[{key:"getStatusLabel",value:function(e){switch(e.status){case x.Fr.PENDING_DELETION:return"Deletion Queued";case x.Fr.DELETION_IN_PROGRESS:return"Deletion in Progress";case x.Fr.DISABLED:case x.Fr.HIDDEN:return"Disabled";default:return null}}},{key:"isActive",get:function(){return this.props.repository.status===x.Fr.ACTIVE}},{key:"render",value:function(){var e=this,t=this.props,n=t.repository,s=t.showProvider,o=this.isActive;return(0,w.tZ)(m.Z,{access:["org:integrations"]},(function(t){var r=t.hasAccess;return(0,w.tZ)(j,{status:n.status},(0,w.tZ)(k,null,(0,w.tZ)(C,null,(0,w.tZ)("strong",null,n.name),!o&&(0,w.tZ)("small",null," — ",e.getStatusLabel(n)),n.status===x.Fr.PENDING_DELETION&&(0,w.tZ)(R,{size:"xsmall",onClick:e.cancelDelete,disabled:!r,"data-test-id":"repo-cancel"},(0,g.t)("Cancel"))),(0,w.tZ)("div",null,s&&(0,w.tZ)("small",null,n.provider.name),s&&n.url&&(0,w.tZ)("span",null," — "),n.url&&(0,w.tZ)("small",null,(0,w.tZ)("a",{href:n.url},n.url.replace("https://",""))))),(0,w.tZ)(b.Z,{title:(0,g.t)("You must be an organization owner, manager or admin to remove a repository."),disabled:r},(0,w.tZ)(h.Z,{disabled:!r||!o&&n.status!==x.Fr.DISABLED,onConfirm:e.deleteRepo,message:(0,g.t)("Are you sure you want to remove this repository? All associated commit data will be removed in addition to the repository.")},(0,w.tZ)(f.ZP,{size:"xsmall",icon:(0,w.tZ)(Z.Fz,{size:"xs"}),label:(0,g.t)("delete"),disabled:!r}))))}))}}]),p}(p.Component);_.displayName="RepositoryRow",(0,u.Z)(_,"defaultProps",{showProvider:!1});var j=(0,c.Z)(y.Lv,{target:"e1ymnanf0",label:"StyledPanelItem"})("padding:",(0,v.Z)(1)," ",(0,v.Z)(2)," ",(0,v.Z)(2),";justify-content:space-between;align-items:center;flex:1;",(function(e){return e.status===x.Fr.DISABLED&&"\n    filter: grayscale(1);\n    opacity: 0.4;\n  "}),";&:last-child{border-bottom:none;}"),R=(0,c.Z)(f.ZP,{target:"e1ymnanf1",label:"StyledButton"})("margin-left:",(0,v.Z)(1),";"),k=(0,c.Z)("div",{target:"e1ymnanf2",label:"RepositoryTitleAndUrl"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),C=(0,c.Z)("div",{target:"e1ymnanf3",label:"RepositoryTitle"})("margin-bottom:",(0,v.Z)(1),";line-height:26px;");const P=_},"./app/utils/routeTitle.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0,o="".concat(e," - ").concat(t),r=s?"".concat(o," - ").concat(s):o;return n?"".concat(r," - Sentry"):r}},"./app/views/asyncView.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=(n("../../../../node_modules/react/index.js"),n("../../../../node_modules/react-document-title/index.js")),u=n.n(l),c=n("./app/components/asyncComponent.tsx"),p=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var d=function(e){(0,r.Z)(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,a.Z)(t);if(n){var o=(0,a.Z)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function c(){return(0,s.Z)(this,c),l.apply(this,arguments)}return(0,o.Z)(c,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,p.tZ)(u(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),c}(c.Z);d.displayName="AsyncView"},"./app/views/settings/components/settingsPageHeader.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var s=n("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=n("../../../../node_modules/react/index.js"),d=n("./app/styles/organization.tsx"),m=n("./app/styles/space.tsx"),f=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var h=function(e){(0,i.Z)(c,e);var t,n,u=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,l.Z)(t);if(n){var o=(0,l.Z)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,o.Z)(this,c),u.apply(this,arguments)}return(0,r.Z)(c,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,o=e.subtitle,r=e.action,i=e.tabs,a=e.noTitleStyles,l=e.body,u=(0,s.Z)(e,["icon","title","subtitle","action","tabs","noTitleStyles","body"]),c=!o;return(0,f.tZ)("div",u,(0,f.tZ)(y,{isNarrow:c},(0,f.tZ)(b,null,t&&(0,f.tZ)(v,null,t),n&&(0,f.tZ)(Z,{tabs:i,styled:a},(0,f.tZ)(d.Gh,null,n),o&&(0,f.tZ)(g,null,o))),r&&(0,f.tZ)(x,{isNarrow:c},r)),l&&(0,f.tZ)(_,null,l),i&&(0,f.tZ)(j,null,i))}}]),c}(p.Component);h.displayName="UnstyledSettingsPageHeader",(0,u.Z)(h,"defaultProps",{noTitleStyles:!1});var y=(0,c.Z)("div",{target:"e1uay4fd0",label:"TitleAndActions"})("display:flex;align-items:",(function(e){return e.isNarrow?"center":"flex-start"}),";"),b=(0,c.Z)("div",{target:"e1uay4fd1",label:"TitleWrapper"})({name:"1rr4qq7",styles:"flex:1;"}),Z=(0,c.Z)("div",{target:"e1uay4fd2",label:"Title"})((function(e){return!e.styled&&"font-size: 20px; font-weight: 600;"}),";margin:",(0,m.Z)(4)," ",(0,m.Z)(2)," ",(0,m.Z)(3)," 0;"),g=(0,c.Z)("div",{target:"e1uay4fd3",label:"Subtitle"})("color:",(function(e){return e.theme.gray400}),";font-weight:400;font-size:",(function(e){return e.theme.fontSizeLarge}),";padding:",(0,m.Z)(1.5)," 0 0;"),v=(0,c.Z)("div",{target:"e1uay4fd4",label:"Icon"})("margin-right:",(0,m.Z)(1),";"),x=(0,c.Z)("div",{target:"e1uay4fd5",label:"Action"})("margin-top:",(function(e){return e.isNarrow?"0":(0,m.Z)(4)}),";"),w=(0,c.Z)(h,{target:"e1uay4fd6",label:"SettingsPageHeader"})("font-size:14px;margin-top:-",(0,m.Z)(4),";"),_=(0,c.Z)("div",{target:"e1uay4fd7",label:"BodyWrapper"})("flex:1;margin:0 0 ",(0,m.Z)(3),";"),j=(0,c.Z)("div",{target:"e1uay4fd8",label:"TabsWrapper"})({name:"8k0ai7",styles:"flex:1;margin:0;"});const R=w},"./app/views/settings/organizationRepositories/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var s=n("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=n("../../../../node_modules/react/index.js"),d=n("./app/components/pagination.tsx"),m=n("./app/locale.tsx"),f=n("./app/utils/routeTitle.tsx"),h=n("./app/views/asyncView.tsx"),y=n("./app/components/alertLink.tsx"),b=n("./app/components/button.tsx"),Z=n("./app/components/panels/index.tsx"),g=n("./app/components/repositoryRow.tsx"),v=n("./app/icons/index.tsx"),x=n("./app/views/settings/components/emptyMessage.tsx"),w=n("./app/views/settings/components/settingsPageHeader.tsx"),_=n("./app/views/settings/components/text/textBlock.tsx"),j=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),R=function(e){var t=e.itemList,n=e.onRepositoryChange,s=e.api,o=e.params.orgId,r=t&&t.length>0;return(0,j.tZ)("div",null,(0,j.tZ)(w.Z,{title:(0,m.t)("Repositories")}),(0,j.tZ)(y.Z,{to:"/settings/".concat(o,"/integrations/")},(0,m.t)("Want to add a repository to start tracking commits? Install or configure your version control integration here.")),!r&&(0,j.tZ)("div",{className:"m-b-2"},(0,j.tZ)(_.Z,null,(0,m.t)("Connecting a repository allows Sentry to capture commit data via webhooks. This enables features like suggested assignees and resolving issues via commit message. Once you've connected a repository, you can associate commits with releases via the API.")," ",(0,m._N)("See our [link:documentation] for more details.",{link:(0,j.tZ)("a",{href:"https://docs.sentry.io/learn/releases/"})}))),r?(0,j.tZ)(Z.s_,null,(0,j.tZ)(Z.V9,null,(0,m.t)("Added Repositories")),(0,j.tZ)(Z.N,null,(0,j.tZ)("div",null,t.map((function(e){return(0,j.tZ)(g.Z,{key:e.id,repository:e,api:s,showProvider:!0,orgId:o,onRepositoryChange:n})}))))):(0,j.tZ)(Z.s_,null,(0,j.tZ)(x.Z,{icon:(0,j.tZ)(v.J3,{size:"xl"}),title:(0,m.t)("Sentry is better with commit data"),description:(0,m.t)("Adding one or more repositories will enable enhanced releases and the ability to resolve Sentry Issues via git message."),action:(0,j.tZ)(b.ZP,{href:"https://docs.sentry.io/learn/releases/"},(0,m.t)("Learn more"))})))};R.displayName="OrganizationRepositories";const k=R;var C=function(e){(0,a.Z)(y,e);var t,n,h=(t=y,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,u.Z)(t);if(n){var o=(0,u.Z)(this).constructor;e=Reflect.construct(s,arguments,o)}else e=s.apply(this,arguments);return(0,l.Z)(this,e)});function y(){var e;(0,o.Z)(this,y);for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e=h.call.apply(h,[this].concat(n)),(0,c.Z)((0,i.Z)(e),"onRepositoryChange",(function(t){var n=e.state.itemList;null==n||n.forEach((function(e){e.id===t.id&&(e.status=t.status)})),e.setState({itemList:n})})),e}return(0,r.Z)(y,[{key:"getEndpoints",value:function(){var e=this.props.params.orgId;return[["itemList","/organizations/".concat(e,"/repos/"),{query:{status:""}}]]}},{key:"getTitle",value:function(){var e=this.props.params.orgId;return(0,f.Z)((0,m.t)("Repositories"),e,!1)}},{key:"renderBody",value:function(){var e=this.state,t=e.itemList,n=e.itemListPageLinks;return(0,j.tZ)(p.Fragment,null,(0,j.tZ)(k,(0,s.Z)({},this.props,{itemList:t,api:this.api,onRepositoryChange:this.onRepositoryChange})),n&&(0,j.tZ)(d.Z,(0,s.Z)({pageLinks:n},this.props)))}}]),y}(h.Z)}}]);
//# sourceMappingURL=OrganizationRepositories.js.map