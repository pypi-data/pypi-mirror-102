(self.webpackChunk=self.webpackChunk||[]).push([["ReleasesDetail"],{"./app/actionCreators/release.tsx":(e,t,r)=>{"use strict";r.d(t,{o7:()=>c,dF:()=>p,VE:()=>d,aQ:()=>h});var n=r("../../../../node_modules/@sentry/minimal/esm/index.js"),s=r("../../../../node_modules/@sentry/types/esm/severity.js"),o=r("./app/actionCreators/indicator.tsx"),a=r("./app/actions/releaseActions.tsx"),l=r("./app/locale.tsx"),i=r("./app/stores/releaseStore.tsx"),u=r("./app/types/index.tsx");function c(e,t){var r=t.orgSlug,o=t.projectSlug,l=t.releaseVersion,u="/projects/".concat(r,"/").concat(o,"/releases/").concat(encodeURIComponent(l),"/");return i.Z.state.releaseLoading[(0,i.p)(o,l)]=!0,a.Z.loadRelease(r,o,l),e.requestPromise(u,{method:"GET"}).then((function(e){a.Z.loadReleaseSuccess(o,l,e)})).catch((function(e){404!==e.status?(a.Z.loadReleaseError(o,l,e),n.$e((function(t){t.setLevel(s.z.Warning),t.setFingerprint(["getRelease-action-creator"]),n.Tb(e)}))):a.Z.loadReleaseSuccess(o,l,null)}))}function p(e,t){var r=t.orgSlug,o=t.projectSlug,l=t.releaseVersion,u="/organizations/".concat(r,"/releases/").concat(encodeURIComponent(l),"/deploys/");return i.Z.state.deploysLoading[(0,i.p)(o,l)]=!0,a.Z.loadDeploys(r,o,l),e.requestPromise(u,{method:"GET"}).then((function(e){a.Z.loadDeploysSuccess(o,l,e)})).catch((function(e){404!==e.status?(a.Z.loadDeploysError(o,l,e),n.$e((function(t){t.setLevel(s.z.Warning),t.setFingerprint(["getReleaseDeploys-action-creator"]),n.Tb(e)}))):a.Z.loadDeploysSuccess(o,l,null)}))}function d(e,t){var r=t.orgSlug,n=t.projectSlug,s=t.releaseVersion;return a.Z.loadRelease(r,n,s),(0,o.E3)((0,l.t)("Archiving Release…")),e.requestPromise("/organizations/".concat(r,"/releases/"),{method:"POST",data:{status:u.dE.Archived,projects:[],version:s}}).then((function(e){a.Z.loadReleaseSuccess(n,s,e),(0,o.S9)((0,l.t)("Release was successfully archived."))})).catch((function(e){var t,r;throw a.Z.loadReleaseError(n,s,e),(0,o.Iw)(null!==(t=null===(r=e.responseJSON)||void 0===r?void 0:r.detail)&&void 0!==t?t:(0,l.t)("Release could not be be archived.")),e}))}function h(e,t){var r=t.orgSlug,n=t.projectSlug,s=t.releaseVersion;return a.Z.loadRelease(r,n,s),(0,o.E3)((0,l.t)("Restoring Release…")),e.requestPromise("/organizations/".concat(r,"/releases/"),{method:"POST",data:{status:u.dE.Active,projects:[],version:s}}).then((function(e){a.Z.loadReleaseSuccess(n,s,e),(0,o.S9)((0,l.t)("Release was successfully restored."))})).catch((function(e){var t,r;throw a.Z.loadReleaseError(n,s,e),(0,o.Iw)(null!==(t=null===(r=e.responseJSON)||void 0===r?void 0:r.detail)&&void 0!==t?t:(0,l.t)("Release could not be be restored.")),e}))}},"./app/actions/releaseActions.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r("../../../../node_modules/reflux/src/index.js");const s=r.n(n)().createActions(["loadRelease","loadReleaseError","loadReleaseSuccess","loadDeploys","loadDeploysError","loadDeploysSuccess"])},"./app/components/breadcrumbs.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=r("../../../../node_modules/react/index.js"),a=r("./app/components/globalSelectionLink.tsx"),l=r("./app/components/links/link.tsx"),i=r("./app/icons/index.tsx"),u=r("./app/styles/overflowEllipsis.tsx"),c=r("./app/styles/space.tsx"),p=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.crumbs,r=e.linkLastItem,s=void 0!==r&&r,a=(0,n.Z)(e,["crumbs","linkLastItem"]);return 0===t.length?null:(s||(t[t.length-1].to=null),(0,p.tZ)(g,a,t.map((function(e,r){var n=e.label,s=e.to,a=e.preserveGlobalSelection,l=e.key,i="string"==typeof n?n:"",u=(null!=l?l:"string"==typeof s)?"".concat(i).concat(s):"".concat(i).concat(r);return(0,p.tZ)(o.Fragment,{key:u},s?(0,p.tZ)(m,{to:s,preserveGlobalSelection:a},n):(0,p.tZ)(f,null,n),r<t.length-1&&(0,p.tZ)(y,{size:"xs",direction:"right"}))}))))};d.displayName="Breadcrumbs";var h=function(e){return"\n  color: ".concat(e.theme.gray300,";\n  ").concat(u.Z,";\n  width: auto;\n\n  &:last-child {\n    color: ").concat(e.theme.textColor,";\n  }\n")},g=(0,s.Z)("div",{target:"e1ssp62f0",label:"BreadcrumbList"})("display:flex;align-items:center;padding:",(0,c.Z)(1)," 0;"),m=(0,s.Z)((function(e){var t=e.preserveGlobalSelection,r=(0,n.Z)(e,["preserveGlobalSelection"]);return t?(0,p.tZ)(a.Z,r):(0,p.tZ)(l.Z,r)}),{target:"e1ssp62f1",label:"BreadcrumbLink"})(h," &:hover,&:active{color:",(function(e){return e.theme.subText}),";}"),f=(0,s.Z)("span",{target:"e1ssp62f2",label:"BreadcrumbItem"})(h),y=(0,s.Z)(i.g6,{target:"e1ssp62f3",label:"BreadcrumbDividerIcon"})("color:",(function(e){return e.theme.gray300}),";margin:0 ",(0,c.Z)(1),";flex-shrink:0;");const v=d},"./app/components/pickProjectToContinue.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),o=(r("../../../../node_modules/react/index.js"),r("./app/actionCreators/modal.tsx")),a=r("./app/components/contextPickerModal.tsx"),l=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function i(e){var t=e.noProjectRedirectPath,r=e.nextPath,s=e.router,i=e.projects,c=!1,p=r.includes("?")?"".concat(r,"&project="):"".concat(r,"?project=");return 1===i.length?(s.replace(p+i[0].id),null):((0,o.openModal)((function(e){return(0,l.tZ)(a.Z,(0,n.Z)({},e,{needOrg:!1,needProject:!0,nextPath:"".concat(p,":project"),onFinish:function(e){c=!0,s.replace(e)},projectSlugs:i.map((function(e){return e.slug}))}))}),{onClose:function(){c||s.push(t)}}),(0,l.tZ)(u,null))}i.displayName="PickProjectToContinue";var u=(0,s.Z)("div",{target:"e1u7x0g70",label:"ContextPickerBackground"})({name:"1iy821x",styles:"height:100vh;width:100%;"});const c=i},"./app/stores/releaseStore.tsx":(e,t,r)=>{"use strict";r.d(t,{p:()=>p,Z:()=>h});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=r("../../../../node_modules/reflux/src/index.js"),a=r.n(o),l=r("./app/actions/organizationActions.tsx"),i=r("./app/actions/releaseActions.tsx");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e,t){return"".concat(e).concat(t)},d={state:{orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},listenables:i.Z,init:function(){this.listenTo(l.Z.update,this.updateOrganization),this.reset()},reset:function(){this.state={orgSlug:void 0,release:new Map,releaseLoading:new Map,releaseError:new Map,deploys:new Map,deploysLoading:new Map,deploysError:new Map},this.trigger(this.state)},updateOrganization:function(e){this.reset(),this.state.orgSlug=e.slug,this.trigger(this.state)},loadRelease:function(e,t,r){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var o=p(t,r),a=this.state,l=a.releaseLoading,i=a.releaseError,u=(0,s.Z)(a,["releaseLoading","releaseError"]);this.state=c(c({},u),{},{releaseLoading:c(c({},l),{},(0,n.Z)({},o,!0)),releaseError:c(c({},i),{},(0,n.Z)({},o,void 0))}),this.trigger(this.state)},loadReleaseError:function(e,t,r){var o=p(e,t),a=this.state,l=a.releaseLoading,i=a.releaseError,u=(0,s.Z)(a,["releaseLoading","releaseError"]);this.state=c(c({},u),{},{releaseLoading:c(c({},l),{},(0,n.Z)({},o,!1)),releaseError:c(c({},i),{},(0,n.Z)({},o,r))}),this.trigger(this.state)},loadReleaseSuccess:function(e,t,r){var o=p(e,t),a=this.state,l=a.release,i=a.releaseLoading,u=a.releaseError,d=(0,s.Z)(a,["release","releaseLoading","releaseError"]);this.state=c(c({},d),{},{release:c(c({},l),{},(0,n.Z)({},o,r)),releaseLoading:c(c({},i),{},(0,n.Z)({},o,!1)),releaseError:c(c({},u),{},(0,n.Z)({},o,void 0))}),this.trigger(this.state)},loadDeploys:function(e,t,r){this.orgSlug&&this.orgSlug===e||(this.reset(),this.orgSlug=e);var o=p(t,r),a=this.state,l=a.deploysLoading,i=a.deploysError,u=(0,s.Z)(a,["deploysLoading","deploysError"]);this.state=c(c({},u),{},{deploysLoading:c(c({},l),{},(0,n.Z)({},o,!0)),deploysError:c(c({},i),{},(0,n.Z)({},o,void 0))}),this.trigger(this.state)},loadDeploysError:function(e,t,r){var o=p(e,t),a=this.state,l=a.deploysLoading,i=a.deploysError,u=(0,s.Z)(a,["deploysLoading","deploysError"]);this.state=c(c({},u),{},{deploysLoading:c(c({},l),{},(0,n.Z)({},o,!1)),deploysError:c(c({},i),{},(0,n.Z)({},o,r))}),this.trigger(this.state)},loadDeploysSuccess:function(e,t,r){var o=p(e,t),a=this.state,l=a.deploys,i=a.deploysLoading,u=a.deploysError,d=(0,s.Z)(a,["deploys","deploysLoading","deploysError"]);this.state=c(c({},d),{},{deploys:c(c({},l),{},(0,n.Z)({},o,r)),deploysLoading:c(c({},i),{},(0,n.Z)({},o,!1)),deploysError:c(c({},u),{},(0,n.Z)({},o,void 0))}),this.trigger(this.state)},get:function(e,t){var r=p(e,t);return{release:this.state.release[r],releaseLoading:this.state.releaseLoading[r],releaseError:this.state.releaseError[r],deploys:this.state.deploys[r],deploysLoading:this.state.deploysLoading[r],deploysError:this.state.deploysError[r]}}};const h=a().createStore(d)},"./app/utils/routeTitle.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,s="".concat(e," - ").concat(t),o=n?"".concat(s," - ").concat(n):s;return r?"".concat(o," - Sentry"):o}},"./app/views/asyncView.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),i=(r("../../../../node_modules/react/index.js"),r("../../../../node_modules/react-document-title/index.js")),u=r.n(i),c=r("./app/components/asyncComponent.tsx"),p=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var d=function(e){(0,o.Z)(c,e);var t,r,i=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var s=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return(0,a.Z)(this,e)});function c(){return(0,n.Z)(this,c),i.apply(this,arguments)}return(0,s.Z)(c,[{key:"getTitle",value:function(){return""}},{key:"render",value:function(){var e=this.getTitle();return(0,p.tZ)(u(),{title:"".concat(e?"".concat(e," - "):"","Sentry")},this.renderComponent())}}]),c}(c.Z);d.displayName="AsyncView"},"./app/views/releases/detail/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ReleaseContext:()=>we,ReleasesDetailContainer:()=>Ce,default:()=>Ee});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),o=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/get.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),g=r("../../../../node_modules/react/index.js"),m=r("../../../../node_modules/lodash/pick.js"),f=r.n(m),y=r("../../../../node_modules/moment/moment.js"),v=r.n(y),Z=r("./app/components/alert.tsx"),b=r("./app/components/asyncComponent.tsx"),j=r("./app/components/lightWeightNoProjectMessage.tsx"),x=r("./app/components/loadingIndicator.tsx"),S=r("./app/components/organizations/globalSelectionHeader/index.tsx"),P=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),w=r("./app/components/pickProjectToContinue.tsx"),R=r("./app/constants/index.tsx"),C=r("./app/constants/globalSelectionHeader.tsx"),O=r("./app/icons/index.tsx"),k=r("./app/locale.tsx"),E=r("./app/styles/organization.tsx"),_=r("./app/styles/space.tsx"),B=r("./app/utils/formatters.tsx"),T=r("./app/utils/routeTitle.tsx"),z=r("./app/utils/withGlobalSelection.tsx"),D=r("./app/utils/withOrganization.tsx"),I=r("./app/views/asyncView.tsx"),L=r("./app/views/releases/list/utils.tsx"),A=r("./app/views/releases/utils/releaseHealthRequest.tsx"),F=r("./app/components/badge.tsx"),q=r("./app/components/breadcrumbs.tsx"),M=r("./app/components/clipboard.tsx"),H=r("./app/components/idBadge/index.tsx"),N=r("./app/components/layouts/thirds.tsx"),U=r("./app/components/links/externalLink.tsx"),V=r("./app/components/links/listLink.tsx"),G=r("./app/components/navTabs.tsx"),Y=r("./app/components/tooltip.tsx"),Q=r("./app/components/version.tsx"),J=r("../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),W=r("../../../../node_modules/@babel/runtime/regenerator/index.js"),$=r.n(W),K=r("../../../../node_modules/react-router/es/index.js"),X=r("./app/actionCreators/release.tsx"),ee=r("./app/api.tsx"),te=r("./app/components/button.tsx"),re=r("./app/components/buttonBar.tsx"),ne=r("./app/components/confirm.tsx"),se=r("./app/components/dropdownLink.tsx"),oe=r("./app/components/idBadge/projectBadge.tsx"),ae=r("./app/components/menuItem.tsx"),le=r("./app/components/textOverflow.tsx"),ie=r("./app/views/releases/utils/index.tsx"),ue=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function ce(e){var t=e.orgSlug,r=e.projectSlug,n=e.release,s=e.releaseMeta,o=e.refetchData;function a(){return(a=(0,J.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.VE)(new ee.KU,{orgSlug:t,projectSlug:r,releaseVersion:n.version});case 3:K.browserHistory.push("/organizations/".concat(t,"/releases/")),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function l(){return(l=(0,J.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,X.aQ)(new ee.KU,{orgSlug:t,projectSlug:r,releaseVersion:n.version});case 3:o(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function i(e){return(0,ue.tZ)("h4",null,(0,ue.tZ)(le.Z,null,e))}function u(e){return(0,ue.tZ)(g.Fragment,null,e,(0,ue.tZ)(he,null,(t=s.projects.slice(0,5),r=s.projects.length-t.length,(0,ue.tZ)(g.Fragment,null,t.map((function(e){return(0,ue.tZ)(oe.Z,{key:e.slug,project:e,avatarSize:18})})),r>0&&(0,ue.tZ)("span",null,(0,ue.tZ)(Y.Z,{title:n.projects.slice(5).map((function(e){return e.slug})).join(", ")},"+ ",(0,k.tn)("%s other project","%s other projects",r)))))),(0,k.t)("Are you sure you want to do this?"));var t,r}return(0,ue.tZ)(re.Z,{gap:1},(0,ue.tZ)(de,{caret:!1,anchorRight:window.innerWidth>992,title:(0,ue.tZ)(pe,{icon:(0,ue.tZ)(O.YR,null),label:(0,k.t)("Actions")})},(0,ie.rF)(n)?(0,ue.tZ)(ne.Z,{onConfirm:function(){return l.apply(this,arguments)},header:i((0,k._N)("Restore Release [release]",{release:(0,B.ko)(n.version)})),message:u((0,k.tn)("You are restoring this release for the following project:","By restoring this release, you are also restoring it for the following projects:",s.projects.length)),cancelText:(0,k.t)("Nevermind"),confirmText:(0,k.t)("Restore")},(0,ue.tZ)(ae.Z,null,(0,k.t)("Restore"))):(0,ue.tZ)(ne.Z,{onConfirm:function(){return a.apply(this,arguments)},header:i((0,k._N)("Archive Release [release]",{release:(0,B.ko)(n.version)})),message:u((0,k.tn)("You are archiving this release for the following project:","By archiving this release, you are also archiving it for the following projects:",s.projects.length)),cancelText:(0,k.t)("Nevermind"),confirmText:(0,k.t)("Archive")},(0,ue.tZ)(ae.Z,null,(0,k.t)("Archive")))))}ce.displayName="ReleaseActions";var pe=(0,h.Z)(te.ZP,{target:"e1ncsdq00",label:"ActionsButton"})({name:"qr3b9c",styles:"width:40px;height:40px;padding:0;"}),de=(0,h.Z)(se.Z,{target:"e1ncsdq01",label:"StyledDropdownLink"})({name:"1aycio4",styles:"& + .dropdown-menu{top:50px !important;}"}),he=(0,h.Z)("div",{target:"e1ncsdq02",label:"ProjectsWrapper"})("margin:",(0,_.Z)(2)," 0 ",(0,_.Z)(2)," ",(0,_.Z)(2),";display:grid;gap:",(0,_.Z)(.5),";img{border:none !important;box-shadow:none !important;}");const ge=ce;var me=function(e){var t=e.location,r=e.organization,n=e.release,s=e.project,o=e.releaseMeta,a=e.refetchData,l=n.version,i=n.url,u=o.commitCount,c=o.commitFilesChanged,p="/organizations/".concat(r.slug,"/releases/").concat(encodeURIComponent(l),"/"),d=[{title:(0,k.t)("Overview"),to:p},{title:(0,ue.tZ)(g.Fragment,null,(0,k.t)("Commits")," ",(0,ue.tZ)(be,{text:(0,B.Du)(u)})),to:"".concat(p,"commits/")},{title:(0,ue.tZ)(g.Fragment,null,(0,k.t)("Files Changed"),(0,ue.tZ)(be,{text:(0,B.Du)(c)})),to:"".concat(p,"files-changed/")}];return(0,ue.tZ)(N.h4,null,(0,ue.tZ)(N.oB,null,(0,ue.tZ)(q.Z,{crumbs:[{to:"/organizations/".concat(r.slug,"/releases/"),label:(0,k.t)("Releases"),preserveGlobalSelection:!0},{label:(0,B.ko)(l)}]}),(0,ue.tZ)(N.Dx,null,(0,ue.tZ)(fe,null,(0,ue.tZ)(H.Z,{project:s,avatarSize:28,hideName:!0}),(0,ue.tZ)(ye,{version:l,anchor:!1,truncate:!0}),(0,ue.tZ)(ve,null,(0,ue.tZ)(M.Z,{value:l},(0,ue.tZ)(Y.Z,{title:l,containerDisplayMode:"flex"},(0,ue.tZ)(O.vU,{size:"xs"})))),!!i&&(0,ue.tZ)(ve,null,(0,ue.tZ)(Y.Z,{title:i},(0,ue.tZ)(U.Z,{href:i},(0,ue.tZ)(O.V$,{size:"xs"}))))))),(0,ue.tZ)(N.kP,null,(0,ue.tZ)(ge,{orgSlug:r.slug,projectSlug:s.slug,release:n,releaseMeta:o,refetchData:a})),(0,ue.tZ)(g.Fragment,null,(0,ue.tZ)(Ze,null,d.map((function(e){return(0,ue.tZ)(V.Z,{key:e.to,to:(r=e.to,{pathname:r,query:f()(t.query,Object.values(C.nF))}),isActive:function(){return e.to===t.pathname}},e.title);var r})))))};me.displayName="ReleaseHeader";var fe=(0,h.Z)("div",{target:"ebdvgk00",label:"ReleaseName"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),ye=(0,h.Z)(Q.Z,{target:"ebdvgk01",label:"StyledVersion"})("margin-left:",(0,_.Z)(1),";"),ve=(0,h.Z)("span",{target:"ebdvgk02",label:"IconWrapper"})("transition:color 0.3s ease-in-out;margin-left:",(0,_.Z)(1),";&,a{color:",(function(e){return e.theme.gray300}),";display:flex;&:hover{cursor:pointer;color:",(function(e){return e.theme.textColor}),";}}"),Ze=(0,h.Z)(G.Z,{target:"ebdvgk03",label:"StyledNavTabs"})({name:"n8i8z8",styles:"margin-bottom:0;width:100%;"}),be=(0,h.Z)(F.Z,{target:"ebdvgk04",label:"NavTabsBadge"})("@media (max-width:",(function(e){return e.theme.breakpoints[0]}),"){display:none;}");const je=me;function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.Z)(e);if(t){var s=(0,p.Z)(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var we=g.createContext({}),Re=function(e){(0,u.Z)(r,e);var t=Pe(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,d.Z)((0,l.Z)(e),"shouldReload",!0),e}return(0,a.Z)(r,[{key:"getTitle",value:function(){var e=this.props,t=e.params,r=e.organization,n=e.selection,s=this.state.release,o=null==s?void 0:s.projects.find((function(e){return e.id===n.projects[0]}));return(0,T.Z)((0,k.t)("Release %s",(0,B.ko)(t.release)),r.slug,!1,null==o?void 0:o.slug)}},{key:"getDefaultState",value:function(){return Se(Se({},(0,i.Z)((0,p.Z)(r.prototype),"getDefaultState",this).call(this)),{},{deploys:[],sessions:null})}},{key:"getEndpoints",value:function(){var e,t=this.props,r=t.organization,n=t.location,o=t.params,a=t.releaseMeta,l=t.defaultStatsPeriod,i="/organizations/".concat(r.slug,"/releases/").concat(encodeURIComponent(o.release),"/"),u=[["release",i,{query:Se({},(0,P.Q)(f()(n.query,(0,s.Z)(Object.values(C.nF))),{defaultStatsPeriod:l}))}]];return a.deployCount>0&&u.push(["deploys","".concat(i,"deploys/")]),u.push(["sessions","/organizations/".concat(r.slug,"/sessions/"),{query:{project:n.query.project,environment:null!==(e=n.query.environment)&&void 0!==e?e:[],query:'release:"'.concat(o.release,'"'),field:"sum(session)",statsPeriod:"90d",interval:"1d"}}]),u}},{key:"renderError",value:function(){var e,t=Object.values(this.state.errors).find((function(e){return 404===(null==e?void 0:e.status)||403===(null==e?void 0:e.status)}));if(t)return(0,ue.tZ)(E.JH,null,(0,ue.tZ)(Z.Z,{type:"error",icon:(0,ue.tZ)(O.FC,null)},(0,k.t)("This release may not be in your selected project.")));for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=(0,i.Z)((0,p.Z)(r.prototype),"renderError",this)).call.apply(e,[this].concat(s))}},{key:"renderLoading",value:function(){return(0,ue.tZ)(E.JH,null,(0,ue.tZ)(x.Z,null))}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,r=e.location,n=e.selection,s=e.releaseMeta,o=e.defaultStatsPeriod,a=e.getHealthData,l=e.isHealthLoading,i=this.state,u=i.release,c=i.deploys,p=i.sessions,d=i.reloading,h=null==u?void 0:u.projects.find((function(e){return e.id===n.projects[0]}));return h&&u?(0,ue.tZ)(j.Z,{organization:t},(0,ue.tZ)(Oe,null,(0,ue.tZ)(je,{location:r,organization:t,release:u,project:h,releaseMeta:s,refetchData:this.fetchData}),(0,ue.tZ)(we.Provider,{value:{release:u,project:h,deploys:c,releaseMeta:s,refetchData:this.fetchData,defaultStatsPeriod:o,getHealthData:a,isHealthLoading:l,hasHealthData:!(null==p||!p.groups[0].totals["sum(session)"])}},this.props.children))):d?(0,ue.tZ)(x.Z,null):null}}]),r}(I.Z),Ce=function(e){(0,u.Z)(r,e);var t=Pe(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,d.Z)((0,l.Z)(e),"shouldReload",!0),e}return(0,a.Z)(r,[{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.params;return[["releaseMeta","/organizations/".concat(t.slug,"/releases/").concat(encodeURIComponent(r.release),"/meta/")]]}},{key:"renderError",value:function(){var e,t=Object.values(this.state.errors).find((function(e){return 404===(null==e?void 0:e.status)}));if(t)return(0,ue.tZ)(E.JH,null,(0,ue.tZ)(Z.Z,{type:"error",icon:(0,ue.tZ)(O.FC,null)},(0,k.t)("This release could not be found.")));for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=(0,i.Z)((0,p.Z)(r.prototype),"renderError",this)).call.apply(e,[this].concat(s))}},{key:"isProjectMissingInUrl",value:function(){var e=this.props.location.query.project;return!e||"string"!=typeof e}},{key:"renderLoading",value:function(){return(0,ue.tZ)(E.JH,null,(0,ue.tZ)(x.Z,null))}},{key:"renderProjectsFooterMessage",value:function(){return(0,ue.tZ)(ke,null,(0,ue.tZ)(O.aU,{size:"xs"})," ",(0,k.t)("Only projects with this release are visible."))}},{key:"renderBody",value:function(){var e=this,t=this.props,r=t.organization,s=t.params,o=t.router,a=t.location,l=t.selection,i=this.state.releaseMeta;if(!i)return null;var u=i.projects,c=v()(i.released).isAfter(v()().subtract(24,"hours"))?"24h":R.GY;return this.isProjectMissingInUrl()?(0,ue.tZ)(w.Z,{projects:u.map((function(e){var t=e.id,r=e.slug;return{id:String(t),slug:r}})),router:o,nextPath:"/organizations/".concat(r.slug,"/releases/").concat(encodeURIComponent(s.release),"/"),noProjectRedirectPath:"/organizations/".concat(r.slug,"/releases/")}):(0,ue.tZ)(S.Z,{lockedMessageSubject:(0,k.t)("release"),shouldForceProject:1===u.length,forceProject:1===u.length?Se(Se({},u[0]),{},{id:String(u[0].id)}):void 0,specificProjectSlugs:u.map((function(e){return e.slug})),disableMultipleProjectSelection:!0,showProjectSettingsLink:!0,projectsFooterMessage:this.renderProjectsFooterMessage(),defaultSelection:{datetime:{start:null,end:null,utc:!1,period:c}}},(0,ue.tZ)(A.Z,{releases:[s.release],organization:r,selection:l,location:a,display:[L.zY.SESSIONS,L.zY.USERS],defaultStatsPeriod:c},(function(t){var r=t.isHealthLoading,s=t.getHealthData;return(0,ue.tZ)(Re,(0,n.Z)({},e.props,{releaseMeta:i,defaultStatsPeriod:c,getHealthData:s,isHealthLoading:r}))})))}}]),r}(b.Z),Oe=(0,h.Z)(E.JH,{target:"ey1uhy00",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"}),ke=(0,h.Z)("div",{target:"ey1uhy01",label:"ProjectsFooterMessage"})("display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-gap:",(0,_.Z)(1),";");const Ee=(0,z.Z)((0,D.Z)(Ce))},"./app/views/releases/list/utils.tsx":(e,t,r)=>{"use strict";var n,s,o;r.d(t,{Y7:()=>n,zY:()=>s,L4:()=>o}),function(e){e.CRASH_FREE_USERS="crash_free_users",e.CRASH_FREE_SESSIONS="crash_free_sessions",e.USERS_24_HOURS="users_24h",e.SESSIONS="sessions",e.DATE="date"}(n||(n={})),function(e){e.USERS="users",e.SESSIONS="sessions"}(s||(s={})),function(e){e.ACTIVE="active",e.ARCHIVED="archived"}(o||(o={}))},"./app/views/releases/utils/index.tsx":(e,t,r)=>{"use strict";r.d(t,{G5:()=>u,Mf:()=>c,zB:()=>p,PS:()=>d,eY:()=>h,rF:()=>g,gs:()=>m});var n=r("../../../../node_modules/lodash/round.js"),s=r.n(n),o=r("./app/locale.tsx"),a=r("./app/types/index.tsx"),l=r("./app/utils/tokenizeSearch.tsx"),i=r("./app/views/releases/list/utils.tsx"),u=function(e){return s()(e,e>60?0:3)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return s()(e,e>t?r:0)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(isNaN(e))return"―";if(e<1&&e>0)return"<1%";var n=c(e,t,r).toLocaleString();return"".concat(n,"%")},d=function(e,t,r){return{pathname:"/organizations/".concat(e,"/issues/"),query:{project:t,statsPeriod:void 0,start:void 0,end:void 0,query:(0,l.gZ)(new l.an(["firstRelease:".concat(r)]))}}},h=function(e,t,r){return{pathname:"/organizations/".concat(e,"/issues/"),query:{project:t,query:(0,l.gZ)(new l.an(["release:".concat(r),"error.unhandled:true"]))}}},g=function(e){return e.status===a.dE.Archived};function m(e,t){return e===i.zY.USERS?(0,o.tn)("user","users",t):(0,o.tn)("session","sessions",t)}},"./app/views/releases/utils/releaseHealthRequest.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=r("../../../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=r("../../../../node_modules/@babel/runtime/regenerator/index.js"),g=r.n(h),m=r("../../../../node_modules/react/index.js"),f=r("../../../../node_modules/lodash/isEqual.js"),y=r.n(f),v=r("../../../../node_modules/lodash/omit.js"),Z=r.n(v),b=r("../../../../node_modules/lodash/pick.js"),j=r.n(b),x=r("../../../../node_modules/moment/moment.js"),S=r.n(x),P=r("./app/actionCreators/indicator.tsx"),w=r("./app/components/charts/utils.tsx"),R=r("./app/components/organizations/globalSelectionHeader/getParams.tsx"),C=r("./app/constants/globalSelectionHeader.tsx"),O=r("./app/locale.tsx"),k=r("./app/types/index.tsx"),E=r("./app/utils.tsx"),_=r("./app/utils/tokenizeSearch.tsx"),B=r("./app/utils/withApi.tsx"),T=r("./app/views/releases/list/utils.tsx"),z=r("./app/views/releases/utils/index.tsx");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){return Z()(e,["api","organization","children","selection.datetime.utc","location"])}function A(e,t,r){var n;return null===(n=t.series[r])||void 0===n||n.forEach((function(t,r){var n;return e[r]=(null!==(n=e[r])&&void 0!==n?n:0)+t})),e}var F=function(e){(0,u.Z)(b,e);var t,r,h,m,f,v,Z=(f=b,v=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,p.Z)(f);if(v){var r=(0,p.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,c.Z)(this,e)});function b(){var e;(0,a.Z)(this,b);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=Z.call.apply(Z,[this].concat(r)),(0,d.Z)((0,i.Z)(e),"state",{loading:!1,errored:!1,statusCountByReleaseInPeriod:null,totalCountByReleaseIn24h:null,totalCountByProjectIn24h:null,statusCountByProjectInPeriod:null}),(0,d.Z)((0,i.Z)(e),"fetchData",(0,o.Z)(g().mark((function t(){var r,n,o,a,l,i,u,c,p,d,h,m;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.api,o=r.healthStatsPeriod,n.clear(),e.setState({loading:!0,errored:!1,statusCountByReleaseInPeriod:null,totalCountByReleaseIn24h:null,totalCountByProjectIn24h:null}),a=[e.fetchStatusCountByReleaseInPeriod(),e.fetchTotalCountByReleaseIn24h(),e.fetchTotalCountByProjectIn24h()],o===k.$A.AUTO&&a.push(e.fetchStatusCountByProjectInPeriod()),t.prev=5,t.next=8,Promise.all(a);case 8:l=t.sent,i=(0,s.Z)(l,4),u=i[0],c=i[1],p=i[2],d=i[3],e.setState({loading:!1,statusCountByReleaseInPeriod:u,totalCountByReleaseIn24h:c,totalCountByProjectIn24h:p,statusCountByProjectInPeriod:d}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(5),(0,P.Iw)(null!==(h=null===(m=t.t0.responseJSON)||void 0===m?void 0:m.detail)&&void 0!==h?h:(0,O.t)("Error loading health data")),e.setState({loading:!1,errored:!0});case 21:case"end":return t.stop()}}),t,null,[[5,17]])})))),(0,d.Z)((0,i.Z)(e),"getHealthData",(function(){return{getCrashCount:e.getCrashCount,getCrashFreeRate:e.getCrashFreeRate,get24hCountByRelease:e.get24hCountByRelease,get24hCountByProject:e.get24hCountByProject,getTimeSeries:e.getTimeSeries,getAdoption:e.getAdoption}})),(0,d.Z)((0,i.Z)(e),"getCrashCount",(function(t,r,n){var s,o=e.state.statusCountByReleaseInPeriod,a=e.displayToField(n);return null==o||null===(s=o.groups.find((function(e){var n=e.by;return n.release===t&&n.project===r&&"crashed"===n["session.status"]})))||void 0===s?void 0:s.totals[a]})),(0,d.Z)((0,i.Z)(e),"getCrashFreeRate",(function(t,r,n){var s,o=e.state.statusCountByReleaseInPeriod,a=e.displayToField(n),l=null==o||null===(s=o.groups.filter((function(e){var n=e.by;return n.release===t&&n.project===r})))||void 0===s?void 0:s.reduce((function(e,t){return e+t.totals[a]}),0),i=e.getCrashCount(t,r,n);return(0,E.ri)(l)&&0!==l?(0,z.Mf)(100-(0,E.aQ)(null!=i?i:0,null!=l?l:0)):null})),(0,d.Z)((0,i.Z)(e),"get24hCountByRelease",(function(t,r,n){var s,o=e.state.totalCountByReleaseIn24h,a=e.displayToField(n);return null==o||null===(s=o.groups.filter((function(e){var n=e.by;return n.release===t&&n.project===r})))||void 0===s?void 0:s.reduce((function(e,t){return e+t.totals[a]}),0)})),(0,d.Z)((0,i.Z)(e),"get24hCountByProject",(function(t,r){var n,s=e.state.totalCountByProjectIn24h,o=e.displayToField(r);return null==s||null===(n=s.groups.filter((function(e){return e.by.project===t})))||void 0===n?void 0:n.reduce((function(e,t){return e+t.totals[o]}),0)})),(0,d.Z)((0,i.Z)(e),"getTimeSeries",(function(t,r,n){return e.props.healthStatsPeriod===k.$A.AUTO?e.getPeriodTimeSeries(t,r,n):e.get24hTimeSeries(t,r,n)})),(0,d.Z)((0,i.Z)(e),"get24hTimeSeries",(function(t,r,n){var s,o,a,l=e.state,i=l.totalCountByReleaseIn24h,u=l.totalCountByProjectIn24h,c=e.displayToField(n),p=null!==(s=null==u?void 0:u.intervals)&&void 0!==s?s:[],d=null==u||null===(o=u.groups.find((function(e){return e.by.project===r})))||void 0===o?void 0:o.series[c],h=null==i||null===(a=i.groups.find((function(e){var n=e.by;return n.project===r&&n.release===t})))||void 0===a?void 0:a.series[c];return[{seriesName:(0,O.t)("This Release"),data:null==p?void 0:p.map((function(e,t){var r;return{name:S()(e).valueOf(),value:null!==(r=null==h?void 0:h[t])&&void 0!==r?r:0}}))},{seriesName:(0,O.t)("Total Project"),data:null==p?void 0:p.map((function(e,t){var r;return{name:S()(e).valueOf(),value:null!==(r=null==d?void 0:d[t])&&void 0!==r?r:0}})),z:0}]})),(0,d.Z)((0,i.Z)(e),"getPeriodTimeSeries",(function(t,r,n){var s,o,a,l=e.state,i=l.statusCountByReleaseInPeriod,u=l.statusCountByProjectInPeriod,c=e.displayToField(n),p=null!==(s=null==u?void 0:u.intervals)&&void 0!==s?s:[],d=null==u||null===(o=u.groups.filter((function(e){return e.by.project===r})))||void 0===o?void 0:o.reduce((function(e,t){return A(e,t,c)}),[]),h=null==i||null===(a=i.groups.filter((function(e){var n=e.by;return n.project===r&&n.release===t})))||void 0===a?void 0:a.reduce((function(e,t){return A(e,t,c)}),[]);return[{seriesName:(0,O.t)("This Release"),data:null==p?void 0:p.map((function(e,t){var r;return{name:S()(e).valueOf(),value:null!==(r=null==h?void 0:h[t])&&void 0!==r?r:0}}))},{seriesName:(0,O.t)("Total Project"),data:null==p?void 0:p.map((function(e,t){var r;return{name:S()(e).valueOf(),value:null!==(r=null==d?void 0:d[t])&&void 0!==r?r:0}})),z:0}]})),(0,d.Z)((0,i.Z)(e),"getAdoption",(function(t,r,n){var s=e.get24hCountByRelease(t,r,n),o=e.get24hCountByProject(r,n);return(0,E.ri)(s)&&(0,E.ri)(o)?(0,E.aQ)(s,o):void 0})),e}return(0,l.Z)(b,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){this.props.releasesReloading||y()(L(e),L(this.props))||this.fetchData()}},{key:"path",get:function(){var e=this.props.organization;return"/organizations/".concat(e.slug,"/sessions/")}},{key:"baseQueryParams",get:function(){var e,t,r=this.props,n=r.location,s=r.selection,o=r.defaultStatsPeriod,a=r.releases;return I({query:(0,_.gZ)(new _.an(a.reduce((function(e,t,r,n){return e.push('release:"'.concat(t,'"')),r<n.length-1&&e.push("OR"),e}),[]))),interval:(e=s.datetime,t=(0,w.Nm)(e),t>=w.$i?"1d":t>=w.IZ?"6h":t>w.w3?"4h":"1h")},(0,R.Q)(j()(n.query,Object.values(C.nF)),{defaultStatsPeriod:o}))}},{key:"fetchStatusCountByReleaseInPeriod",value:(m=(0,o.Z)(g().mark((function e(){var t,r,s,o,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,s=t.display,e.next=3,r.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{field:(0,n.Z)(new Set([].concat((0,n.Z)(s.map((function(e){return a.displayToField(e)}))),["sum(session)"]))),groupBy:["project","release","session.status"]})});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"fetchStatusCountByProjectInPeriod",value:(h=(0,o.Z)(g().mark((function e(){var t,r,s,o,a=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,s=t.display,e.next=3,r.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{query:void 0,field:(0,n.Z)(new Set([].concat((0,n.Z)(s.map((function(e){return a.displayToField(e)}))),["sum(session)"]))),groupBy:["project","session.status"]})});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"fetchTotalCountByReleaseIn24h",value:(r=(0,o.Z)(g().mark((function e(){var t,r,n,s,o=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,n=t.display,e.next=3,r.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{field:n.map((function(e){return o.displayToField(e)})),groupBy:["project","release"],interval:"1h",statsPeriod:"24h"})});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"fetchTotalCountByProjectIn24h",value:(t=(0,o.Z)(g().mark((function e(){var t,r,n,s,o=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.api,n=t.display,e.next=3,r.requestPromise(this.path,{query:I(I({},this.baseQueryParams),{},{query:void 0,field:n.map((function(e){return o.displayToField(e)})),groupBy:["project"],interval:"1h",statsPeriod:"24h"})});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"displayToField",value:function(e){switch(e){case T.zY.USERS:return"count_unique(user)";case T.zY.SESSIONS:default:return"sum(session)"}}},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.errored;return(0,this.props.children)({isHealthLoading:t,errored:r,getHealthData:this.getHealthData()})}}]),b}(m.Component);F.displayName="ReleaseHealthRequest";const q=(0,B.Z)(F)}}]);
//# sourceMappingURL=ReleasesDetail.js.map