(self.webpackChunk=self.webpackChunk||[]).push([["ReleasesList"],{"./app/components/searchBar.tsx":(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),c=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),p=r("../../../../node_modules/react/index.js"),d=r("../../../../node_modules/classnames/index.js"),h=r.n(d),m=r("./app/components/button.tsx"),f=r("./app/icons/index.tsx"),Z=r("./app/icons/iconClose.tsx"),g=r("./app/locale.tsx"),y=r("./app/utils/callIfFunction.tsx"),b=r("./app/views/settings/components/forms/controls/input.tsx"),v=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");var S=function(e){(0,s.Z)(d,e);var t,r,c=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(r){var o=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function d(){var e;(0,n.Z)(this,d);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=c.call.apply(c,[this].concat(r)),(0,u.Z)((0,a.Z)(e),"state",{query:e.props.query||e.props.defaultQuery,dropdownVisible:!1}),(0,u.Z)((0,a.Z)(e),"searchInputRef",p.createRef()),(0,u.Z)((0,a.Z)(e),"blur",(function(){e.searchInputRef.current&&e.searchInputRef.current.blur()})),(0,u.Z)((0,a.Z)(e),"onSubmit",(function(t){t.preventDefault(),e.blur(),e.props.onSearch(e.state.query)})),(0,u.Z)((0,a.Z)(e),"clearSearch",(function(){e.setState({query:e.props.defaultQuery},(function(){e.props.onSearch(e.state.query),(0,y.g)(e.props.onChange,e.state.query)}))})),(0,u.Z)((0,a.Z)(e),"onQueryFocus",(function(){e.setState({dropdownVisible:!0})})),(0,u.Z)((0,a.Z)(e),"onQueryBlur",(function(){e.setState({dropdownVisible:!1})})),(0,u.Z)((0,a.Z)(e),"onQueryChange",(function(t){var r=t.target.value;e.setState({query:r}),(0,y.g)(e.props.onChange,r)})),e}return(0,o.Z)(d,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.width;return(0,v.tZ)("div",{className:h()("search",t)},(0,v.tZ)("form",{className:"form-horizontal",onSubmit:this.onSubmit},(0,v.tZ)("div",null,(0,v.tZ)(x,{type:"text",className:"search-input",placeholder:this.props.placeholder,name:"query",ref:this.searchInputRef,autoComplete:"off",value:this.state.query,onBlur:this.onQueryBlur,onChange:this.onQueryChange,width:r}),(0,v.tZ)(w,{className:"search-input-icon",size:"sm",color:"gray300"}),this.state.query!==this.props.defaultQuery&&(0,v.tZ)(R,{type:"button",className:"search-clear-form",priority:"link",onClick:this.clearSearch,size:"xsmall",icon:(0,v.tZ)(Z.b,null),label:(0,g.t)("Clear")}))))}}]),d}(p.PureComponent);S.displayName="SearchBar",(0,u.Z)(S,"defaultProps",{query:"",defaultQuery:"",onSearch:function(){}});var x=(0,c.Z)(b.Z,{target:"e5a9jdx0",label:"StyledInput"})("width:",(function(e){return e.width?e.width:void 0}),";&.focus-visible{box-shadow:inset 0 2px 0 rgba(0,0,0,0.04),0 0 6px rgba(177,171,225,0.3);border-color:#a598b2;outline:none;}"),w=(0,c.Z)(f.jV,{target:"e5a9jdx1",label:"StyledIconSearch"})({name:"nte755",styles:"position:absolute;top:50%;transform:translateY(-50%);left:14px;"}),R=(0,c.Z)(m.ZP,{target:"e5a9jdx2",label:"SearchClearButton"})("position:absolute;top:50%;height:16px;transform:translateY(-50%);right:10px;font-size:",(function(e){return e.theme.fontSizeLarge}),";color:",(function(e){return e.theme.gray200}),";&:hover{color:",(function(e){return e.theme.gray300}),";}");const j=S},"./app/views/releases/list/index.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ReleasesList:()=>Ot,default:()=>Pt});var n=r("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=r("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),a=r("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=r("../../../../node_modules/@babel/runtime/helpers/esm/get.js"),i=r("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),l=r("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=r("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),c=r("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),p=r("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),d=r("../../../../node_modules/react/index.js"),h=r("../../../../node_modules/react-lazyload/lib/index.js"),m=r("../../../../node_modules/lodash/pick.js"),f=r.n(m),Z=r("./app/components/acl/feature.tsx"),g=r("./app/components/emptyStateWarning.tsx"),y=r("./app/components/lightWeightNoProjectMessage.tsx"),b=r("./app/components/loadingIndicator.tsx"),v=r("./app/components/organizations/globalSelectionHeader/index.tsx"),S=r("./app/components/organizations/timeRangeSelector/utils.tsx"),x=r("./app/components/pageHeading.tsx"),w=r("./app/components/pagination.tsx"),R=r("./app/components/searchBar.tsx"),j=r("./app/constants/index.tsx"),C=r("./app/constants/globalSelectionHeader.tsx"),k=r("./app/locale.tsx"),O=r("./app/styles/organization.tsx"),z=r("./app/styles/space.tsx"),P=r("./app/types/index.tsx"),_=r("./app/utils.tsx"),E=r("./app/utils/routeTitle.tsx"),q=r("./app/utils/withGlobalSelection.tsx"),D=r("./app/utils/withOrganization.tsx"),A=r("./app/views/asyncView.tsx"),I=r("./app/views/releases/detail/overview/releaseArchivedNotice.tsx"),T=r("./app/views/releases/utils/releaseHealthRequest.tsx"),H=r("./app/components/assistant/guideAnchor.tsx"),N=r("./app/components/globalSelectionLink.tsx"),B=r("./app/components/panels/index.tsx"),L=r("./app/components/avatar/avatarList.tsx"),Y=r("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),U=function(e){var t=e.release,r=e.withHeading,n=void 0===r||r,o=t.commitCount||0,a=t.authors&&t.authors.length||0;if(0===o)return null;var s=[(0,k.tn)("%s commit","%s commits",o),(0,k.t)("by"),(0,k.tn)("%s author","%s authors",a)].join(" ");return(0,Y.tZ)("div",{className:"release-stats"},n&&(0,Y.tZ)(V,null,s),(0,Y.tZ)("span",{style:{display:"inline-block"}},(0,Y.tZ)(L.Z,{users:t.authors,avatarSize:25,typeMembers:"authors"})))};U.displayName="ReleaseStats";var V=(0,p.Z)("div",{target:"e1j648yn0",label:"ReleaseSummaryHeading"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeSmall}),";line-height:1.2;font-weight:600;text-transform:uppercase;margin-bottom:",(0,z.Z)(.5),";");const F=U;var W=r("./app/components/textOverflow.tsx"),Q=r("./app/components/timeSince.tsx"),M=r("./app/components/version.tsx"),$=r("./app/styles/overflowEllipsis.tsx"),G=r("../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),J=r("../../../../node_modules/lodash/partition.js"),K=r.n(J),X=r("./app/components/tooltip.tsx"),ee=r("./app/components/button.tsx"),te=r("./app/components/collapsible.tsx"),re=r("./app/components/count.tsx"),ne=r("./app/components/idBadge/projectBadge.tsx"),oe=r("./app/components/notAvailable.tsx"),ae=r("./app/components/placeholder.tsx"),se=r("./app/views/releases/utils/index.tsx"),ie=r("./app/views/releases/list/crashFree.tsx"),le=r("../../../../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),ue=r("./app/components/charts/miniBarChart.tsx"),ce=r("./app/views/releases/list/utils.tsx");var pe=function(e){(0,i.Z)(p,e);var t,r,s=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=s.call.apply(s,[this].concat(r)),(0,c.Z)((0,a.Z)(e),"formatTooltip",(function(t){var r=e.props.activeDisplay===ce.zY.USERS?(0,k.tn)("user","users",t):(0,k.tn)("session","sessions",t);return"".concat(t.toLocaleString()," ").concat(r)})),e}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.height,r=e.data,n=e.theme;return(0,Y.tZ)(h.ZP,{debounce:50,height:t},(0,Y.tZ)(ue.Z,{series:r,height:t,isGroupedByDate:!0,showTimeInTooltip:!0,hideDelay:50,tooltipFormatter:this.formatTooltip,colors:[n.purple300,n.gray200]}))}}]),p}(d.Component);pe.displayName="HealthStatsChart",(0,c.Z)(pe,"defaultProps",{height:24});const de=(0,le.Zz)(pe);var he=r("./app/components/links/link.tsx");function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze=function(e){var t,r=e.location,n=e.selection,o=r.query.healthStatsPeriod||P.$A.TWENTY_FOUR_HOURS,a=r.pathname,s=r.query;return(0,Y.tZ)(ge,null,n.datetime.period!==P.$A.TWENTY_FOUR_HOURS&&(0,Y.tZ)(ye,{to:{pathname:a,query:fe(fe({},s),{},{healthStatsPeriod:P.$A.TWENTY_FOUR_HOURS})},selected:o===P.$A.TWENTY_FOUR_HOURS},(0,k.t)("24h")),(0,Y.tZ)(ye,{to:{pathname:a,query:fe(fe({},s),{},{healthStatsPeriod:P.$A.AUTO})},selected:o===P.$A.AUTO},n.datetime.start?(0,k.t)("Custom"):null!==(t=n.datetime.period)&&void 0!==t?t:(0,k.t)("14d")))};Ze.displayName="HealthStatsPeriod";var ge=(0,p.Z)("div",{target:"encpuiz0",label:"Wrapper"})("display:grid;grid-auto-flow:column;grid-column-gap:",(0,z.Z)(.75),";flex:1;justify-content:flex-end;text-align:right;margin-left:",(0,z.Z)(.5),";"),ye=(0,p.Z)(he.Z,{target:"encpuiz1",label:"Period"})("color:",(function(e){return e.selected?e.theme.gray400:e.theme.gray300}),";&:hover,&:focus{color:",(function(e){return e.selected?e.theme.gray400:e.theme.gray300}),";}");const be=(0,q.Z)(Ze);var ve=r("./app/views/releases/list/releaseAdoption.tsx");const Se=(0,p.Z)(B.V9,{target:"ekkjozw0",label:"Header"})("border-top-left-radius:0;padding:",(0,z.Z)(1.5)," ",(0,z.Z)(2),";font-size:",(function(e){return e.theme.fontSizeSmall}),";");var xe=r("./app/views/releases/list/releaseHealth/projectLink.tsx"),we=function(e){var t=e.projects,r=e.releaseVersion,n=e.location,o=e.organization,a=e.activeDisplay,s=e.showPlaceholders,i=e.isTopRelease,l=e.getHealthData;return(0,Y.tZ)(d.Fragment,null,(0,Y.tZ)(Se,null,(0,Y.tZ)(ze,null,(0,Y.tZ)(Pe,null,(0,k.t)("Project Name")),(0,Y.tZ)(Ee,null,(0,Y.tZ)(H.Z,{target:"release_adoption",position:"bottom",disabled:!(i&&window.innerWidth>=800)},(0,k.t)("Adoption"))),(0,Y.tZ)(De,null,(0,k.t)("Crash Free Rate")),(0,Y.tZ)(Ae,null,(0,Y.tZ)("span",null,(0,k.t)("Count")),(0,Y.tZ)(be,{location:n})),(0,Y.tZ)(Ie,null,(0,k.t)("Crashes")),(0,Y.tZ)(_e,null,(0,k.t)("New Issues")),(0,Y.tZ)(Te,null))),(0,Y.tZ)(je,null,(0,Y.tZ)(te.Z,{expandButton:function(e){var t=e.onExpand,r=e.numberOfCollapsedItems;return(0,Y.tZ)(Ce,null,(0,Y.tZ)(ee.ZP,{priority:"primary",size:"xsmall",onClick:t},(0,k._N)("Show [numberOfCollapsedItems] More",{numberOfCollapsedItems:r})))},collapseButton:function(e){var t=e.onCollapse;return(0,Y.tZ)(ke,null,(0,Y.tZ)(ee.ZP,{priority:"primary",size:"xsmall",onClick:t},(0,k.t)("Collapse")))}},t.map((function(e,t){var u=e.id,c=e.slug,p=e.newGroups,d=l.getCrashCount(r,u,ce.zY.SESSIONS),h=l.getCrashFreeRate(r,u,a),m=l.get24hCountByRelease(r,u,a),f=l.get24hCountByProject(u,a),Z=l.getTimeSeries(r,u,a),g=l.getAdoption(r,u,a),y=(null==Z?void 0:Z[0].data.length)>7&&Z[0].data.some((function(e){return e.value>0}));return(0,Y.tZ)(Oe,{key:"".concat(r,"-").concat(c,"-health")},(0,Y.tZ)(ze,null,(0,Y.tZ)(Pe,null,(0,Y.tZ)(ne.Z,{project:e,avatarSize:16})),(0,Y.tZ)(Ee,null,s?(0,Y.tZ)(Ne,{width:"150px"}):f?(0,Y.tZ)(qe,null,(0,Y.tZ)(ve.Z,{adoption:null!=g?g:0,releaseCount:null!=m?m:0,projectCount:null!=f?f:0,displayOption:a}),(0,Y.tZ)(re.Z,{value:null!=m?m:0})):(0,Y.tZ)(oe.Z,null)),(0,Y.tZ)(De,null,s?(0,Y.tZ)(Ne,{width:"60px"}):(0,_.ri)(h)?(0,Y.tZ)(ie.Z,{percent:h}):(0,Y.tZ)(oe.Z,null)),(0,Y.tZ)(Ae,null,s?(0,Y.tZ)(Ne,null):y?(0,Y.tZ)(He,null,(0,Y.tZ)(de,{data:Z,height:20,activeDisplay:a})):(0,Y.tZ)(oe.Z,null)),(0,Y.tZ)(Ie,null,s?(0,Y.tZ)(Ne,{width:"30px"}):(0,_.ri)(d)?(0,Y.tZ)(X.Z,{title:(0,k.t)("Open in Issues")},(0,Y.tZ)(N.Z,{to:(0,se.eY)(o.slug,e.id,r)},(0,Y.tZ)(re.Z,{value:d}))):(0,Y.tZ)(oe.Z,null)),(0,Y.tZ)(_e,null,(0,Y.tZ)(X.Z,{title:(0,k.t)("Open in Issues")},(0,Y.tZ)(N.Z,{to:(0,se.PS)(o.slug,e.id,r)},(0,Y.tZ)(re.Z,{value:p||0})))),(0,Y.tZ)(Te,null,(0,Y.tZ)(H.Z,{disabled:!i||0!==t,target:"view_release"},(0,Y.tZ)(xe.Z,{orgSlug:o.slug,project:e,releaseVersion:r,location:n})))))})))))};we.displayName="Content";const Re=we;var je=(0,p.Z)("div",{target:"e18frqa60",label:"ProjectRows"})({name:"79elbk",styles:"position:relative;"}),Ce=(0,p.Z)("div",{target:"e18frqa61",label:"ExpandButtonWrapper"})("position:absolute;width:100%;bottom:0;display:flex;align-items:center;justify-content:center;background-image:linear-gradient( 180deg,hsla(0,0%,100%,0.15) 0,",(function(e){return e.theme.white})," );background-repeat:repeat-x;border-bottom:",(0,z.Z)(1)," solid ",(function(e){return e.theme.white}),";border-top:",(0,z.Z)(1)," solid transparent;border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";}"),ke=(0,p.Z)("div",{target:"e18frqa62",label:"CollapseButtonWrapper"})({name:"1rf6xii",styles:"display:flex;align-items:center;justify-content:center;height:41px;"}),Oe=(0,p.Z)(B.Lv,{target:"e18frqa63",label:"ProjectRow"})("padding:",(0,z.Z)(1)," ",(0,z.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){font-size:",(function(e){return e.theme.fontSizeMedium}),";}"),ze=(0,p.Z)("div",{target:"e18frqa64",label:"Layout"})("display:grid;grid-template-columns:1fr 1.4fr 0.6fr 0.7fr;grid-column-gap:",(0,z.Z)(1),";align-items:center;width:100%;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){grid-template-columns:1fr 1fr 1fr 0.5fr 0.5fr 0.5fr;}@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:1fr 0.8fr 1fr 0.5fr 0.5fr 0.6fr;}@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:1fr 0.8fr 1fr 1fr 0.5fr 0.5fr 0.5fr;}"),Pe=(0,p.Z)("div",{target:"e18frqa65",label:"Column"})($.Z,";line-height:20px;"),_e=(0,p.Z)(Pe,{target:"e18frqa66",label:"NewIssuesColumn"})("@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){text-align:right;}"),Ee=(0,p.Z)(Pe,{target:"e18frqa67",label:"AdoptionColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){display:flex;overflow:visible;}"),qe=(0,p.Z)("span",{target:"e18frqa68",label:"AdoptionWrapper"})("display:inline-grid;grid-template-columns:70px 1fr;grid-gap:",(0,z.Z)(1),";align-items:center;@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){grid-template-columns:90px 1fr;}"),De=(0,p.Z)(Pe,{target:"e18frqa69",label:"CrashFreeRateColumn"})("@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){text-align:center;}"),Ae=(0,p.Z)(Pe,{target:"e18frqa610",label:"CountColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[3]}),"){display:flex;overflow:visible;}"),Ie=(0,p.Z)(Pe,{target:"e18frqa611",label:"CrashesColumn"})("display:none;@media (min-width:",(function(e){return e.theme.breakpoints[0]}),"){display:block;text-align:right;}"),Te=(0,p.Z)(Pe,{target:"e18frqa612",label:"ViewColumn"})({name:"s2uf1z",styles:"text-align:right;"}),He=(0,p.Z)("div",{target:"e18frqa613",label:"ChartWrapper"})("flex:1;g > .barchart-rect{background:",(function(e){return e.theme.gray200}),";fill:",(function(e){return e.theme.gray200}),";}"),Ne=(0,p.Z)(ae.Z,{target:"e18frqa614",label:"StyledPlaceholder"})("height:15px;display:inline-block;position:relative;top:",(0,z.Z)(.25),";");var Be=function(e){(0,i.Z)(s,e);var t,r,a=(t=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function s(){return(0,n.Z)(this,s),a.apply(this,arguments)}return(0,o.Z)(s,[{key:"shouldComponentUpdate",value:function(e){return!this.props.reloading||!e.reloading}},{key:"render",value:function(){var e,t,r=this.props,n=r.release,o=r.organization,a=r.activeDisplay,s=r.location,i=r.showPlaceholders,l=r.selection,u=r.isTopRelease,c=r.getHealthData,p=K()(n.projects.sort((function(e,t){return e.slug.localeCompare(t.slug)})),(function(e){return!(l.projects.length>0&&!l.projects.includes(-1))||l.projects.includes(e.id)})),h=(0,G.Z)(p,2),m=h[0],f=h[1];return(0,Y.tZ)(d.Fragment,null,(0,Y.tZ)(Re,{organization:o,activeDisplay:a,releaseVersion:n.version,projects:m,location:s,showPlaceholders:i,isTopRelease:u,getHealthData:c}),f.length>0&&(0,Y.tZ)(Le,null,(0,Y.tZ)(X.Z,{title:(e=f.map((function(e){return e.slug})).slice(0,5),t=f.length-e.length,t&&e.push((0,k.tn)("and %s more","and %s more",t)),e.join(", "))},(0,Y.tZ)(W.Z,null,1===f.length?(0,k._N)("[number:1] hidden project",{number:(0,Y.tZ)("strong",null)}):(0,k._N)("[number] hidden projects",{number:(0,Y.tZ)("strong",null,f.length)})))))}}]),s}(d.Component);Be.displayName="ReleaseHealth";var Le=(0,p.Z)("div",{target:"e1ln5gku0",label:"HiddenProjectsMessage"})("display:flex;align-items:center;font-size:",(function(e){return e.theme.fontSizeSmall}),";padding:0 ",(0,z.Z)(2),";border-top:1px solid ",(function(e){return e.theme.border}),";overflow:hidden;height:24px;line-height:24px;color:",(function(e){return e.theme.gray300}),";background-color:",(function(e){return e.theme.backgroundSecondary}),";border-bottom-right-radius:",(function(e){return e.theme.borderRadius}),";@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){border-bottom-left-radius:",(function(e){return e.theme.borderRadius}),";}");const Ye=Be;function Ue(e,t){return 1===e.projects.length?e.projects[0].id:1===t.projects.length&&e.projects.map((function(e){return e.id})).includes(t.projects[0])?t.projects[0]:void 0}var Ve=function(e){var t=e.release,r=e.organization,n=e.activeDisplay,o=e.location,a=e.reloading,s=e.selection,i=e.showHealthPlaceholders,l=e.isTopRelease,u=e.getHealthData,c=t.version,p=t.commitCount,d=t.lastDeploy,h=t.dateCreated,m=t.versionInfo;return(0,Y.tZ)(Qe,{reloading:a?1:0},(0,Y.tZ)(Me,null,(0,Y.tZ)(Ke,null,(0,Y.tZ)(N.Z,{to:{pathname:"/organizations/".concat(r.slug,"/releases/").concat(encodeURIComponent(c),"/"),query:{project:Ue(t,s)}}},(0,Y.tZ)(H.Z,{disabled:!l,target:"release_version"},(0,Y.tZ)(Fe,null,(0,Y.tZ)(We,{version:c,tooltipRawVersion:!0,anchor:!1})))),p>0&&(0,Y.tZ)(F,{release:t,withHeading:!1})),(0,Y.tZ)($e,null,(null==m?void 0:m.package)&&(0,Y.tZ)(Ge,{ellipsisDirection:"left"},m.package),(0,Y.tZ)(Q.Z,{date:(null==d?void 0:d.dateFinished)||h}),(null==d?void 0:d.dateFinished)&&" | ".concat(d.environment))),(0,Y.tZ)(Je,null,(0,Y.tZ)(Ye,{release:t,organization:r,activeDisplay:n,location:o,showPlaceholders:i,reloading:a,selection:s,isTopRelease:l,getHealthData:u})))};Ve.displayName="ReleaseCard";var Fe=(0,p.Z)("div",{target:"eo08ki40",label:"VersionWrapper"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),We=(0,p.Z)(M.Z,{target:"eo08ki41",label:"StyledVersion"})($.Z,";"),Qe=(0,p.Z)(B.s_,{target:"eo08ki42",label:"StyledPanel"})("opacity:",(function(e){return e.reloading?.5:1}),";pointer-events:",(function(e){return e.reloading?"none":"auto"}),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){display:flex;}"),Me=(0,p.Z)("div",{target:"eo08ki43",label:"ReleaseInfo"})("padding:",(0,z.Z)(1.5)," ",(0,z.Z)(2),";flex-shrink:0;@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){border-right:1px solid ",(function(e){return e.theme.border}),";min-width:260px;width:22%;max-width:300px;}"),$e=(0,p.Z)("div",{target:"eo08ki44",label:"ReleaseInfoSubheader"})("font-size:",(function(e){return e.theme.fontSizeSmall}),";color:",(function(e){return e.theme.gray400}),";"),Ge=(0,p.Z)(W.Z,{target:"eo08ki45",label:"PackageName"})("font-size:",(function(e){return e.theme.fontSizeMedium}),";color:",(function(e){return e.theme.textColor}),";"),Je=(0,p.Z)("div",{target:"eo08ki46",label:"ReleaseProjects"})("border-top:1px solid ",(function(e){return e.theme.border}),";flex-grow:1;display:grid;@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){border-top:none;}"),Ke=(0,p.Z)("div",{target:"eo08ki47",label:"ReleaseInfoHeader"})("font-size:",(function(e){return e.theme.fontSizeExtraLarge}),";display:grid;grid-template-columns:minmax(0,1fr) max-content;grid-gap:",(0,z.Z)(2),";align-items:center;");const Xe=Ve;var et=r("./app/components/dropdownControl.tsx"),tt=function(e){var t,r=e.label,n=e.options,o=e.selected,a=e.onSelect,s=e.className,i=Object.entries(n),l=null===(t=i.find((function(e){var t=(0,G.Z)(e,2),r=t[0];return t[1],r===o})))||void 0===t?void 0:t[1];return(0,Y.tZ)(et.ZP,{buttonProps:{prefix:r},label:l,className:s},i.map((function(e){var t=(0,G.Z)(e,2),r=t[0],n=t[1];return(0,Y.tZ)(et.hP,{key:r,onSelect:a,eventKey:r,isActive:o===r},n)})))};tt.displayName="ReleaseListDropdown";const rt=tt;var nt,ot=(nt={},(0,c.Z)(nt,ce.zY.SESSIONS,(0,k.t)("Sessions")),(0,c.Z)(nt,ce.zY.USERS,(0,k.t)("Users")),nt);function at(e){var t=e.selected,r=e.onSelect;return(0,Y.tZ)(lt,{label:(0,k.t)("Display"),options:ot,selected:t,onSelect:r})}at.displayName="ReleaseListDisplayOptions";const st=at;var it,lt=(0,p.Z)(rt,{target:"ex105vx0",label:"StyledReleaseListDropdown"})("z-index:1;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:3;}"),ut=r("./app/views/releases/list/releaseLanding.tsx"),ct=(it={},(0,c.Z)(it,ce.Y7.DATE,(0,k.t)("Date Created")),(0,c.Z)(it,ce.Y7.SESSIONS,(0,k.t)("Total Sessions")),(0,c.Z)(it,ce.Y7.USERS_24_HOURS,(0,k.t)("Active Users")),(0,c.Z)(it,ce.Y7.CRASH_FREE_USERS,(0,k.t)("Crash Free Users")),(0,c.Z)(it,ce.Y7.CRASH_FREE_SESSIONS,(0,k.t)("Crash Free Sessions")),it);function pt(e){var t=e.selected,r=e.onSelect;return(0,Y.tZ)(mt,{label:(0,k.t)("Sort By"),options:ct,selected:t,onSelect:r})}pt.displayName="ReleaseListSortOptions";const dt=pt;var ht,mt=(0,p.Z)(rt,{target:"e132gm890",label:"StyledReleaseListDropdown"})("z-index:2;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:2;}"),ft=(ht={},(0,c.Z)(ht,ce.L4.ACTIVE,(0,k.t)("Active")),(0,c.Z)(ht,ce.L4.ARCHIVED,(0,k.t)("Archived")),ht);function Zt(e){var t=e.selected,r=e.onSelect;return(0,Y.tZ)(yt,{label:(0,k.t)("Status"),options:ft,selected:t,onSelect:r})}Zt.displayName="ReleaseListStatusOptions";const gt=Zt;var yt=(0,p.Z)(rt,{target:"ewz79kc0",label:"StyledReleaseListDropdown"})("z-index:3;@media (max-width:",(function(e){return e.theme.breakpoints[2]}),"){order:1;}"),bt=r("./app/components/charts/styles.tsx"),vt=r("./app/utils/withApi.tsx"),St=r("./app/views/projectDetail/charts/projectBaseSessionsChart.tsx"),xt=r("./app/views/projectDetail/projectCharts.tsx"),wt=r("./app/views/releases/utils/sessionTerm.tsx");var Rt=function(e){(0,i.Z)(p,e);var t,r,s=(t=p,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function p(){var e;(0,n.Z)(this,p);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=s.call.apply(s,[this].concat(r)),(0,c.Z)((0,a.Z)(e),"state",{totalValues:null}),(0,c.Z)((0,a.Z)(e),"handleTotalValuesChange",(function(t){t!==e.state.totalValues&&e.setState({totalValues:t})})),e}return(0,o.Z)(p,[{key:"render",value:function(){var e=this.props,t=e.api,r=e.router,n=e.organization,o=this.state.totalValues;return(0,Y.tZ)(B.s_,null,(0,Y.tZ)(bt.BO,null,(0,Y.tZ)(St.Z,{title:(0,k.t)("Crash Free Sessions"),help:(0,wt.RE)(wt._k.STABILITY,null),router:r,api:t,organization:n,onTotalValuesChange:this.handleTotalValuesChange,displayMode:xt.D.STABILITY})),(0,Y.tZ)(bt.xx,null,(0,Y.tZ)(bt.m2,null,(0,Y.tZ)(bt.OT,null,(0,k.t)("Total Sessions")),(0,Y.tZ)(bt.uN,null,"number"==typeof o?o.toLocaleString():"—"))))}}]),p}(d.Component);Rt.displayName="ReleasesStabilityChart";const jt=(0,vt.Z)(Rt);function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ot=function(e){(0,i.Z)(m,e);var t,r,p=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var o=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function m(){var e;(0,n.Z)(this,m);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=p.call.apply(p,[this].concat(r)),(0,c.Z)((0,a.Z)(e),"shouldReload",!0),(0,c.Z)((0,a.Z)(e),"handleSearch",(function(t){var r=e.props,n=r.location;r.router.push(kt(kt({},n),{},{query:kt(kt({},n.query),{},{cursor:void 0,query:t})}))})),(0,c.Z)((0,a.Z)(e),"handleSortBy",(function(t){var r=e.props,n=r.location;r.router.push(kt(kt({},n),{},{query:kt(kt({},n.query),{},{cursor:void 0,sort:t})}))})),(0,c.Z)((0,a.Z)(e),"handleDisplay",(function(t){var r=e.props,n=r.location;r.router.push(kt(kt({},n),{},{query:kt(kt({},n.query),{},{cursor:void 0,display:t})}))})),(0,c.Z)((0,a.Z)(e),"handleStatus",(function(t){var r=e.props,n=r.location;r.router.push(kt(kt({},n),{},{query:kt(kt({},n.query),{},{cursor:void 0,status:t})}))})),e}return(0,o.Z)(m,[{key:"getTitle",value:function(){return(0,E.Z)((0,k.t)("Releases"),this.props.organization.slug,!1)}},{key:"getEndpoints",value:function(){var e=this.props,t=e.organization,r=e.location,n=r.query.statsPeriod,o=this.getSort(),a=this.getStatus(),s=kt(kt({},f()(r.query,["project","environment","cursor","query","sort"])),{},{summaryStatsPeriod:n,per_page:20,flatten:o===ce.Y7.DATE?0:1,status:a===ce.L4.ARCHIVED?P.dE.Archived:P.dE.Active});return[["releases","/organizations/".concat(t.slug,"/releases/"),{query:s}]]}},{key:"componentDidUpdate",value:function(e,t){(0,s.Z)((0,u.Z)(m.prototype),"componentDidUpdate",this).call(this,e,t),t.releases!==this.state.releases&&(0,h.be)()}},{key:"getQuery",value:function(){var e=this.props.location.query.query;return"string"==typeof e?e:void 0}},{key:"getSort",value:function(){switch(this.props.location.query.sort){case ce.Y7.CRASH_FREE_USERS:return ce.Y7.CRASH_FREE_USERS;case ce.Y7.CRASH_FREE_SESSIONS:return ce.Y7.CRASH_FREE_SESSIONS;case ce.Y7.SESSIONS:return ce.Y7.SESSIONS;case ce.Y7.USERS_24_HOURS:return ce.Y7.USERS_24_HOURS;default:return ce.Y7.DATE}}},{key:"getDisplay",value:function(){switch(this.props.location.query.display){case ce.zY.USERS:return ce.zY.USERS;default:return ce.zY.SESSIONS}}},{key:"getStatus",value:function(){switch(this.props.location.query.status){case ce.L4.ARCHIVED:return ce.L4.ARCHIVED;default:return ce.L4.ACTIVE}}},{key:"shouldShowLoadingIndicator",value:function(){var e=this.state,t=e.loading,r=e.releases,n=e.reloading;return t&&!n||t&&!(null!=r&&r.length)}},{key:"renderLoading",value:function(){return this.renderBody()}},{key:"renderEmptyMessage",value:function(){var e=this.props,t=e.location,r=e.organization,n=e.selection,o=t.query.statsPeriod,a=this.getQuery(),s=this.getSort(),i=this.getStatus();if(a&&a.length)return(0,Y.tZ)(g.Z,{small:!0},"".concat((0,k.t)("There are no releases that match"),": '").concat(a,"'."));if(s===ce.Y7.USERS_24_HOURS)return(0,Y.tZ)(g.Z,{small:!0},(0,k.t)("There are no releases with active user data (users in the last 24 hours)."));if(s!==ce.Y7.DATE){var l=(0,S.T)(o||j.GY).toLowerCase();return(0,Y.tZ)(g.Z,{small:!0},"".concat((0,k.t)("There are no releases with data in the")," ").concat(l,"."))}return i===ce.L4.ARCHIVED?(0,Y.tZ)(g.Z,{small:!0},(0,k.t)("There are no archived releases.")):(0,_.ri)(o)&&"14d"!==o?(0,Y.tZ)(g.Z,{small:!0},(0,k.t)("There are no releases.")):(0,Y.tZ)(ut.Z,{organization:r,projectId:n.projects.filter((function(e){return e!==C.mP}))[0]})}},{key:"renderInnerBody",value:function(e){var t=this.props,r=t.location,n=t.selection,o=t.organization,a=this.state,s=a.releases,i=a.reloading,l=a.releasesPageLinks;return this.shouldShowLoadingIndicator()?(0,Y.tZ)(b.Z,null):null!=s&&s.length?(0,Y.tZ)(T.Z,{releases:s.map((function(e){return e.version})),organization:o,selection:n,location:r,display:[this.getDisplay()],releasesReloading:i,healthStatsPeriod:r.query.healthStatsPeriod},(function(t){var a=t.isHealthLoading,u=t.getHealthData;return(0,Y.tZ)(d.Fragment,null,s.map((function(t,s){return(0,Y.tZ)(Xe,{key:"".concat(t.version,"-").concat(t.projects[0].slug),activeDisplay:e,release:t,organization:o,location:r,selection:n,reloading:i,showHealthPlaceholders:a,isTopRelease:0===s,getHealthData:u})})),(0,Y.tZ)(w.Z,{pageLinks:l}))})):this.renderEmptyMessage()}},{key:"renderBody",value:function(){var e=this.props,t=e.organization,r=e.location,n=e.router,o=e.selection,a=this.state,s=a.releases,i=a.reloading,l=this.getSort(),u=this.getStatus(),c=this.getDisplay();return(0,Y.tZ)(v.Z,{showAbsolute:!1,timeRangeHint:(0,k.t)("Changing this date range will recalculate the release metrics.")},(0,Y.tZ)(O.JH,null,(0,Y.tZ)(y.Z,{organization:t},(0,Y.tZ)(O.mr,null,(0,Y.tZ)(x.Z,null,(0,k.t)("Releases"))),(0,Y.tZ)(Z.Z,{features:["releases-top-charts"],organization:t},1===o.projects.length&&!o.projects.includes(C.mP)&&(0,Y.tZ)(jt,{location:r,organization:t,router:n})),(0,Y.tZ)(zt,null,(0,Y.tZ)(R.Z,{placeholder:(0,k.t)("Search"),onSearch:this.handleSearch,query:this.getQuery()}),(0,Y.tZ)(gt,{selected:u,onSelect:this.handleStatus}),(0,Y.tZ)(dt,{selected:l,onSelect:this.handleSortBy}),(0,Y.tZ)(st,{selected:c,onSelect:this.handleDisplay})),!i&&u===ce.L4.ARCHIVED&&!(null==s||!s.length)&&(0,Y.tZ)(I.Z,{multi:!0}),this.renderInnerBody(c))))}}]),m}(A.Z),zt=(0,p.Z)("div",{target:"e1p382tv0",label:"SortAndFilterWrapper"})("display:inline-grid;grid-gap:",(0,z.Z)(2),";margin-bottom:",(0,z.Z)(2),";@media (min-width:",(function(e){return e.theme.breakpoints[1]}),"){grid-template-columns:1fr repeat(3,auto);}");const Pt=(0,D.Z)((0,q.Z)(Ot))}}]);
//# sourceMappingURL=ReleasesList.js.map