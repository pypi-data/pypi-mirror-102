(self.webpackChunk=self.webpackChunk||[]).push([["PerformanceCompareTransactions","PerformanceLanding"],{"./app/components/radio.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),a=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),o=n("./app/styles/animations.tsx"),i=function(e){return(0,a.iv)("display:block;width:","small"===e.radioSize?"8px":"1rem",";height:","small"===e.radioSize?"8px":"1rem",";border-radius:50%;background-color:",e.theme.active,";animation:0.2s ",o.kQ," ease;opacity:",e.disabled?.4:null,";")},s=(0,r.Z)("input",{target:"e1d7o7s40",label:"Radio"})("display:flex;padding:0;width:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";height:",(function(e){return"small"===e.radioSize?"16px":"1.5em"}),";position:relative;border-radius:50%;align-items:center;justify-content:center;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:inset 0 1px 1px rgba(0,0,0,0.04);background:none;appearance:none;margin:0 !important;&:focus,&.focus-visible{outline:none !important;border:1px solid ",(function(e){return e.theme.border}),";box-shadow:rgba(209,202,216,0.5) 0 0 0 3px;}&:checked:after{content:'';",i,"}");s.defaultProps={type:"radio"};const l=s},"./app/views/performance/breadcrumb.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),s=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),u=n("../../../../node_modules/react/index.js"),c=n("./app/components/breadcrumbs.tsx"),p=n("./app/locale.tsx"),d=n("./app/utils/queryString.tsx"),f=n("./app/views/performance/transactionSummary/utils.tsx"),h=n("./app/views/performance/transactionVitals/utils.tsx"),m=n("./app/views/performance/vitalDetail/utils.tsx"),g=n("./app/views/performance/utils.tsx"),v=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){(0,i.Z)(u,e);var t,n,r=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function u(){return(0,a.Z)(this,u),r.apply(this,arguments)}return(0,o.Z)(u,[{key:"getCrumbs",value:function(){var e=[],t=this.props,n=t.organization,r=t.location,a=t.transactionName,o=t.vitalName,i=t.eventSlug,s=t.traceSlug,l=t.transactionComparison,u=t.realUserMonitoring,c={pathname:(0,g.de)(n),query:y(y({},r.query),{},{transaction:void 0})};if(e.push({to:c,label:(0,p.t)("Performance"),preserveGlobalSelection:!0}),o){var v=(0,m.i4)({orgSlug:n.slug,vitalName:"fcp",projectID:(0,d.ro)(r.query.project),query:r.query});e.push({to:v,label:(0,p.t)("Vital Detail"),preserveGlobalSelection:!0})}else if(a)if(u){var b=(0,h.Pl)({orgSlug:n.slug,transaction:a,projectID:(0,d.ro)(r.query.project),query:r.query});e.push({to:b,label:(0,p.t)("Web Vitals"),preserveGlobalSelection:!0})}else{var Z=(0,f.e1)({orgSlug:n.slug,transaction:a,projectID:(0,d.ro)(r.query.project),query:r.query});e.push({to:Z,label:(0,p.t)("Transaction Summary"),preserveGlobalSelection:!0})}return a&&i?e.push({to:"",label:(0,p.t)("Event Details")}):l?e.push({to:"",label:(0,p.t)("Compare to Baseline")}):s&&e.push({to:"",label:(0,p.t)("Trace View")}),e}},{key:"render",value:function(){return(0,v.tZ)(c.Z,{crumbs:this.getCrumbs()})}}]),u}(u.Component);Z.displayName="Breadcrumb";const S=Z},"./app/views/performance/compare/index.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ft});var r=n("../../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/createClass.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("../../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),s=n("../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),u=n("../../../../node_modules/react/index.js"),c=n("../../../../node_modules/@sentry/minimal/esm/index.js"),p=n("./app/components/errors/notFound.tsx"),d=n("./app/components/lightWeightNoProjectMessage.tsx"),f=n("./app/components/loadingError.tsx"),h=n("./app/components/loadingIndicator.tsx"),m=n("./app/components/sentryDocumentTitle.tsx"),g=n("./app/locale.tsx"),v=n("./app/styles/organization.tsx"),b=n("./app/utils/withOrganization.tsx"),y=n("./app/components/layouts/thirds.tsx"),Z=n("./app/components/panels/index.tsx"),S=n("./app/utils/queryString.tsx"),x=n("./app/views/performance/breadcrumb.tsx"),w=n("./app/views/performance/landing.tsx"),C=n("./app/components/events/interfaces/spans/utils.tsx"),k=n("./app/icons/index.tsx"),R=n("./app/views/settings/components/emptyMessage.tsx"),D=n("../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),T=n("../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),_=n("../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),j=n("./app/components/events/interfaces/spans/dividerHandlerManager.tsx"),E=n("../../../../node_modules/emotion-theming/dist/emotion-theming.browser.esm.js"),P=n("./app/components/count.tsx"),O=n("./app/components/events/interfaces/spans/spanBar.tsx"),N=n("./app/components/events/interfaces/spans/styles.tsx"),B=n("./app/styles/space.tsx"),I=n("./app/components/dateTime.tsx"),M=n("./app/components/events/interfaces/spans/spanDetail.tsx"),L=n("./app/components/events/interfaces/spans/types.tsx"),z=n("./app/components/pill.tsx"),F=n("./app/components/pills.tsx"),A=n("./app/utils/getDynamicText.tsx"),q=n("./app/utils/theme.tsx"),U=n("../../../../node_modules/lodash/map.js"),H=n.n(U),G=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),V=function(e){var t,n,r=e.span,a=r.start_timestamp,o=r.timestamp,i="".concat((1e3*(o-a)).toFixed(3),"ms"),s=Object.keys(r).filter((function(e){return!L.g.has(e)}));return(0,G.tZ)(M.iF,null,(0,G.tZ)("table",{className:"table key-value"},(0,G.tZ)("tbody",null,(0,G.tZ)(M.X2,{title:(0,g.t)("Span ID")},r.span_id),(0,G.tZ)(M.X2,{title:(0,g.t)("Parent Span ID")},r.parent_span_id||""),(0,G.tZ)(M.X2,{title:(0,g.t)("Trace ID")},r.trace_id),(0,G.tZ)(M.X2,{title:(0,g.t)("Description")},null!==(t=null==r?void 0:r.description)&&void 0!==t?t:""),(0,G.tZ)(M.X2,{title:(0,g.t)("Start Date")},(0,A.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*a})," (".concat(a,")"))})),(0,G.tZ)(M.X2,{title:(0,g.t)("End Date")},(0,A.Z)({fixed:"Mar 16, 2020 9:10:13 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*o})," (".concat(o,")"))})),(0,G.tZ)(M.X2,{title:(0,g.t)("Duration")},i),(0,G.tZ)(M.X2,{title:(0,g.t)("Operation")},r.op||""),(0,G.tZ)(M.X2,{title:(0,g.t)("Same Process as Parent")},String(!!r.same_process_as_parent)),(0,G.tZ)(M.$G,{span:r}),H()(null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},(function(e,t){return(0,G.tZ)(M.X2,{title:t,key:t},JSON.stringify(e,null,4)||"")})),s.map((function(e){return(0,G.tZ)(M.X2,{title:e,key:e},JSON.stringify(r[e],null,4)||"")})))))};V.displayName="SpanDetailContent";const X=V;var W=(0,l.Z)("div",{target:"e1gjgyf40",label:"SpanBarRectangle"})("position:relative;height:",N.IB-2*N.GP,"px;top:",N.GP,"px;min-width:1px;user-select:none;transition:border-color 0.15s ease-in-out;border-right:1px solid rgba(0,0,0,0);"),J=n("../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Q=n("../../../../node_modules/wink-jaro-distance/src/wink-jaro-distance.js"),$=n.n(Q);function Y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){return!!e&&"transaction"===(null==e?void 0:e.type)}function te(e){var t,n=e.parent_span_id,r=e.baseChildren,a=e.regressionChildren,o=[],i=[],s=(0,D.Z)(a),l=Y(r);try{var u=function(){var e=t.value,r=s.reduce((function(t,n,r){var a=ne({baselineSpan:e,regressionSpan:n});return 0!==a&&t.push({regressionSpan:n,index:r,matchScore:a}),t}),[]);if(0===r.length)return i.push({comparisonResult:"baseline",baselineSpan:e}),"continue";var a=Math.abs(e.timestamp-e.start_timestamp),l=r.reduce((function(t,n){var r=t.regressionSpan,o=t.matchScore,i=n.regressionSpan,s=n.matchScore,l=Math.abs(r.start_timestamp-e.start_timestamp),u=Math.abs(i.start_timestamp-e.start_timestamp),c=Math.abs(r.timestamp-r.start_timestamp),p=Math.abs(i.timestamp-i.start_timestamp),d=Math.abs(c-a)+l+(1-o),f=Math.abs(p-a)+u+(1-s);return d<f?t:d>f?n:t})),u=l.regressionSpan,c=l.index;s.splice(c,1),o.push({type:"descendent",parent_span_id:n,baselineSpan:e,regressionSpan:u}),i.push({comparisonResult:"matched",span_id:re({baselineSpan:e,regressionSpan:u}),op:e.op,description:e.description,baselineSpan:e,regressionSpan:u})};for(l.s();!(t=l.n()).done;)u()}catch(e){l.e(e)}finally{l.f()}var c,p=Y(s);try{for(p.s();!(c=p.n()).done;){var d=c.value;i.push({comparisonResult:"regression",regressionSpan:d})}}catch(e){p.e(e)}finally{p.f()}return i.sort(ue),{comparablePairs:o,children:i}}function ne(e){var t=e.baselineSpan,n=e.regressionSpan;if(t.op!==n.op)return 0;var r=function(e,t){if(e===t)return 1;var n=$()(e,t).distance;if(n>.3)return 1-n;for(var r=Math.min(e.length,t.length,4),a=0,o=0;o<r&&e[o]===t[o];o+=1)a+=1;return 1-(n-.1*a*n)}((t.description||"").replace(/\s+/g,"").toLowerCase(),(n.description||"").replace(/\s+/g,"").toLowerCase());return r>=.8?r:0}function re(e){var t=e.baselineSpan,n=e.regressionSpan;return"".concat(t.span_id).concat(n.span_id)}function ae(e){switch(e.comparisonResult){case"matched":return Math.max(oe(e.baselineSpan),oe(e.regressionSpan));case"baseline":return oe(e.baselineSpan);case"regression":return oe(e.regressionSpan);default:throw Error("Unknown comparisonResult")}}function oe(e){return Math.abs(e.timestamp-e.start_timestamp)}function ie(e){var t=e.baselineSpan;return oe(e.regressionSpan)-oe(t)}function se(e,t){var n=ae(e),r=ae(t);return n>r?-1:n<r?1:0}function le(e,t){var n=oe(e),r=oe(t);return n>r?-1:n<r?1:e.start_timestamp<t.start_timestamp?-1:e.start_timestamp>t.start_timestamp?1:0}function ue(e,t){switch(e.comparisonResult){case"regression":switch(t.comparisonResult){case"regression":return le(e.regressionSpan,t.regressionSpan);case"baseline":case"matched":return-1;default:throw Error("Unknown comparisonResult")}case"baseline":switch(t.comparisonResult){case"baseline":return le(e.baselineSpan,t.baselineSpan);case"regression":case"matched":return 1;default:throw Error("Unknown comparisonResult")}case"matched":switch(t.comparisonResult){case"regression":return 1;case"baseline":return-1;case"matched":var n=ie({regressionSpan:e.regressionSpan,baselineSpan:e.baselineSpan}),r=ie({regressionSpan:t.regressionSpan,baselineSpan:t.baselineSpan});return n>0?r>0?n>r?-1:n<r?1:se(e,t):-1:0===n?r>0?1:r<0?-1:se(e,t):r>=0?1:n<r?-1:n>r?1:se(e,t);default:throw Error("Unknown comparisonResult")}default:throw Error("Unknown comparisonResult")}}function ce(e){switch(e.comparisonResult){case"matched":return e.span_id;case"baseline":return e.baselineSpan.span_id;case"regression":return e.regressionSpan.span_id;default:throw Error("Unknown comparisonResult")}}function pe(e){switch(e.comparisonResult){case"matched":return e.op;case"baseline":return e.baselineSpan.op;case"regression":return e.regressionSpan.op;default:throw Error("Unknown comparisonResult")}}function de(e){switch(e.comparisonResult){case"matched":return(0,C.ro)(e.baselineSpan)||(0,C.ro)(e.regressionSpan);case"baseline":return(0,C.ro)(e.baselineSpan);case"regression":return(0,C.ro)(e.regressionSpan);default:throw Error("Unknown comparisonResult")}}function fe(e){var t=e.duration,n=e.largestDuration;return t<=0?{type:"WIDTH_PIXEL",width:1}:{type:"WIDTH_PERCENTAGE",width:t/n}}function he(e){if(e)switch(e.type){case"WIDTH_PIXEL":return"".concat(e.width,"px");case"WIDTH_PERCENTAGE":return(0,C.yI)(e.width);default:return e}}var me=function(e){if(!e)return"right";switch(e.type){case"WIDTH_PIXEL":return"right";case"WIDTH_PERCENTAGE":return e.width<.7?"right":"inset";default:return e}},ge=function(e){(0,o.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,a.Z)(u,[{key:"renderContent",value:function(){var e=this.props,t=e.span,n=e.bounds;switch(t.comparisonResult){case"matched":return(0,G.tZ)(ve,{baselineSpan:t.baselineSpan,regressionSpan:t.regressionSpan,bounds:n});case"regression":return(0,G.tZ)(X,{span:t.regressionSpan});case"baseline":return(0,G.tZ)(X,{span:t.baselineSpan});default:return t}}},{key:"render",value:function(){return(0,G.tZ)(M.wh,{onClick:function(e){e.stopPropagation()}},this.renderContent())}}]),u}(u.Component);ge.displayName="SpanDetail";var ve=function(e){var t,n,r=e.baselineSpan,a=e.regressionSpan,o=e.bounds,i=new Set([].concat((0,D.Z)(Object.keys(null!==(t=null==r?void 0:r.data)&&void 0!==t?t:{})),(0,D.Z)(Object.keys(null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{})))),s=new Set([].concat((0,D.Z)(Object.keys(r).filter((function(e){return!L.g.has(e)}))),(0,D.Z)(Object.keys(a).filter((function(e){return!L.g.has(e)})))));return(0,G.tZ)("div",null,(0,G.tZ)(Ze,{bounds:o,baselineSpan:r,regressionSpan:a}),(0,G.tZ)(Se,{baselineTitle:(0,g.t)("Baseline Span ID"),regressionTitle:(0,g.t)("This Event's Span ID"),renderBaselineContent:function(){return r.span_id},renderRegressionContent:function(){return a.span_id}}),(0,G.tZ)(Se,{title:(0,g.t)("Parent Span ID"),renderBaselineContent:function(){return r.parent_span_id||""},renderRegressionContent:function(){return a.parent_span_id||""}}),(0,G.tZ)(Se,{title:(0,g.t)("Trace ID"),renderBaselineContent:function(){return r.trace_id},renderRegressionContent:function(){return a.trace_id}}),(0,G.tZ)(Se,{title:(0,g.t)("Description"),renderBaselineContent:function(){var e;return null!==(e=r.description)&&void 0!==e?e:""},renderRegressionContent:function(){var e;return null!==(e=a.description)&&void 0!==e?e:""}}),(0,G.tZ)(Se,{title:(0,g.t)("Start Date"),renderBaselineContent:function(){return(0,A.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*r.start_timestamp})," (".concat(r.start_timestamp,")"))})},renderRegressionContent:function(){return(0,A.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*a.start_timestamp})," (".concat(r.start_timestamp,")"))})}}),(0,G.tZ)(Se,{title:(0,g.t)("End Date"),renderBaselineContent:function(){return(0,A.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*r.timestamp})," (".concat(r.timestamp,")"))})},renderRegressionContent:function(){return(0,A.Z)({fixed:"Mar 16, 2020 9:10:12 AM UTC",value:(0,G.tZ)(u.Fragment,null,(0,G.tZ)(I.Z,{date:1e3*a.timestamp})," (".concat(a.timestamp,")"))})}}),(0,G.tZ)(Se,{title:(0,g.t)("Duration"),renderBaselineContent:function(){var e=r.start_timestamp,t=r.timestamp;return"".concat((1e3*(t-e)).toFixed(3),"ms")},renderRegressionContent:function(){var e=a.start_timestamp,t=a.timestamp;return"".concat((1e3*(t-e)).toFixed(3),"ms")}}),(0,G.tZ)(Se,{title:(0,g.t)("Operation"),renderBaselineContent:function(){return r.op||""},renderRegressionContent:function(){return a.op||""}}),(0,G.tZ)(Se,{title:(0,g.t)("Same Process as Parent"),renderBaselineContent:function(){return String(!!r.same_process_as_parent)},renderRegressionContent:function(){return String(!!a.same_process_as_parent)}}),(0,G.tZ)(De,{baselineSpan:r,regressionSpan:a}),Array.from(i).map((function(e){return(0,G.tZ)(Se,{key:e,title:e,renderBaselineContent:function(){var t,n=(null!==(t=null==r?void 0:r.data)&&void 0!==t?t:{})[e];return JSON.stringify(n,null,4)||""},renderRegressionContent:function(){var t,n=(null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{})[e];return JSON.stringify(n,null,4)||""}})})),Array.from(s).map((function(e){return(0,G.tZ)(Se,{key:e,title:e,renderBaselineContent:function(){return JSON.stringify(r[e],null,4)||""},renderRegressionContent:function(){return JSON.stringify(a[e],null,4)||""}})})))};ve.displayName="MatchedSpanDetailsContent";var be=(0,l.Z)("div",{target:"e1l0f6df0",label:"RowSplitter"})("display:flex;flex-direction:row;> * + *{border-left:1px solid ",(function(e){return e.theme.border}),";}"),ye=(0,l.Z)("div",{target:"e1l0f6df1",label:"SpanBarContainer"})("position:relative;height:16px;margin-top:",(0,B.Z)(3),";margin-bottom:",(0,B.Z)(2),";"),Ze=function(e){var t=e.bounds,n=e.baselineSpan,r=e.regressionSpan,a=me(t.baseline),o=me(t.regression);return(0,G.tZ)(be,null,(0,G.tZ)(xe,null,(0,G.tZ)(ye,null,(0,G.tZ)(W,{style:{backgroundColor:q.ZP.gray500,width:he(t.baseline),position:"absolute",height:"16px"}},(0,G.tZ)(Te,{durationDisplay:a,fontColors:{right:q.ZP.gray500,inset:q.ZP.white}},(0,C.bQ)(oe(n)))))),(0,G.tZ)(xe,null,(0,G.tZ)(ye,null,(0,G.tZ)(W,{style:{backgroundColor:q.ZP.purple200,width:he(t.regression),position:"absolute",height:"16px"}},(0,G.tZ)(Te,{durationDisplay:o,fontColors:{right:q.ZP.gray500,inset:q.ZP.gray500}},(0,C.bQ)(oe(r)))))))};Ze.displayName="SpanBars";var Se=function(e){var t,n,r=e.title,a=e.baselineTitle,o=e.regressionTitle,i=e.renderBaselineContent(),s=e.renderRegressionContent();return i||s?(0,G.tZ)(be,null,(0,G.tZ)(Ce,{title:null!==(t=null!=a?a:r)&&void 0!==t?t:""},i),(0,G.tZ)(Ce,{title:null!==(n=null!=o?o:r)&&void 0!==n?n:""},s)):null};Se.displayName="Row";var xe=(0,l.Z)("div",{target:"e1l0f6df2",label:"RowContainer"})("width:50%;min-width:50%;max-width:50%;flex-basis:50%;padding-left:",(0,B.Z)(2),";padding-right:",(0,B.Z)(2),";"),we=(0,l.Z)("div",{target:"e1l0f6df3",label:"RowTitle"})({name:"fndhsi",styles:"font-size:13px;font-weight:600;"}),Ce=function(e){var t=e.title,n=e.children;return(0,G.tZ)(xe,null,(0,G.tZ)(we,null,t),(0,G.tZ)("div",null,(0,G.tZ)("pre",{className:"val",style:{marginBottom:(0,B.Z)(1)}},(0,G.tZ)("span",{className:"val-string"},n))))};Ce.displayName="RowCell";var ke=function(e){var t=null==e?void 0:e.tags;if(t&&!(Object.keys(t).length<=0))return t},Re=function(e){var t=e.tags;if(!t)return null;var n=Object.keys(t);return n.length<=0?null:(0,G.tZ)(F.Z,null,n.map((function(e,n){return(0,G.tZ)(z.Z,{key:n,name:e,value:String(t[e])||""})})))};Re.displayName="TagPills";var De=function(e){var t=e.baselineSpan,n=e.regressionSpan,r=ke(t),a=ke(n);return r||a?(0,G.tZ)(be,null,(0,G.tZ)(xe,null,(0,G.tZ)(we,null,(0,g.t)("Tags")),(0,G.tZ)("div",null,(0,G.tZ)(Re,{tags:r}))),(0,G.tZ)(xe,null,(0,G.tZ)(we,null,(0,g.t)("Tags")),(0,G.tZ)("div",null,(0,G.tZ)(Re,{tags:a})))):null};De.displayName="Tags";var Te=(0,l.Z)("div",{target:"e1l0f6df4",label:"DurationPill"})("position:absolute;top:50%;display:flex;align-items:center;transform:translateY(-50%);white-space:nowrap;font-size:",(function(e){return e.theme.fontSizeExtraSmall}),";color:",(function(e){return e.fontColors.right}),";",(function(e){switch(e.durationDisplay){case"right":return"left: calc(100% + ".concat((0,B.Z)(.75),");");default:return"\n          right: ".concat((0,B.Z)(.75),";\n          color: ").concat(e.fontColors.inset,";\n        ")}}),";@media (max-width:",(function(e){return e.theme.breakpoints[1]}),"){font-size:10px;}");const _e=ge;var je=function(e){(0,o.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=l.call.apply(l,[this].concat(n)),(0,_.Z)((0,T.Z)(e),"state",{showDetail:!1}),(0,_.Z)((0,T.Z)(e),"renderDivider",(function(t){var n=e.props.theme;if(e.state.showDetail)return(0,G.tZ)(O.xN,{style:{position:"relative",backgroundColor:(0,O.dF)({theme:n,showDetail:!0})}});var r=t.addDividerLineRef;return(0,G.tZ)(O.xN,{ref:r(),style:{position:"relative"},onMouseEnter:function(){t.setHover(!0)},onMouseLeave:function(){t.setHover(!1)},onMouseOver:function(){t.setHover(!0)},onMouseDown:t.onDragStart,onClick:function(e){e.stopPropagation()}})})),(0,_.Z)((0,T.Z)(e),"toggleDisplayDetail",(function(){e.setState((function(e){return{showDetail:!e.showDetail}}))})),e}return(0,a.Z)(u,[{key:"renderSpanTreeConnector",value:function(e){var t=e.hasToggler,n=this.props,r=n.isLast,a=n.isRoot,o=n.treeDepth,i=n.continuingTreeDepths,s=n.span,l=n.showSpanTree,u=ce(s);if(a)return t?(0,G.tZ)(O.UV,{style:{right:"16px",height:"10px",bottom:"-5px",top:"auto"},key:"".concat(u,"-last"),orphanBranch:!1}):null;var c=i.map((function(e){var t=(0,C.h_)(e);if(0===t)return null;var n=-1*((o-t)*(O.Ll/2)+1);return(0,G.tZ)(O.UV,{style:{left:n},key:"".concat(u,"-").concat(t),orphanBranch:(0,C.yn)(e)})}));return t&&l&&c.push((0,G.tZ)(O.UV,{style:{right:"16px",height:"10px",bottom:r?"-".concat(N.IB/2,"px"):"0",top:"auto"},key:"".concat(u,"-last"),orphanBranch:!1})),(0,G.tZ)(O.f_,{isLast:r,hasToggler:t,orphanBranch:de(s)},c)}},{key:"renderSpanTreeToggler",value:function(e){var t=this,n=e.left,r=this.props,a=r.numOfSpanChildren,o=r.isRoot,i=r.showSpanTree,s=(0,G.tZ)(O.Oq,{direction:i?"up":"down"});if(a<=0)return(0,G.tZ)(O.sd,{style:{left:"".concat(n,"px")}},this.renderSpanTreeConnector({hasToggler:!1}));var l=o?null:(0,G.tZ)("div",null,s);return(0,G.tZ)(O.sd,{style:{left:"".concat(n,"px")},hasToggler:!0},this.renderSpanTreeConnector({hasToggler:!0}),(0,G.tZ)(O.Zt,{disabled:!!o,isExpanded:this.props.showSpanTree,onClick:function(e){e.stopPropagation(),o||t.props.toggleSpanTree()}},(0,G.tZ)(P.Z,{value:a}),l))}},{key:"renderTitle",value:function(){var e,t=this.props,n=t.span,r=t.treeDepth,a=pe(n)?(0,G.tZ)("strong",null,(0,G.tZ)(O.fI,{spanErrors:[]},pe(n))," — "):"",o=null!==(e=function(e){switch(e.comparisonResult){case"matched":return e.description;case"baseline":return e.baselineSpan.description;case"regression":return e.regressionSpan.description;default:throw Error("Unknown comparisonResult")}}(n))&&void 0!==e?e:"matched"===n.comparisonResult?(0,g.t)("matched"):ce(n),i=r*(O.Ll/2);return(0,G.tZ)(O.Vv,null,this.renderSpanTreeToggler({left:i}),(0,G.tZ)(O.g9,{style:{left:"".concat(i,"px"),width:"100%"}},(0,G.tZ)("span",null,a,o)))}},{key:"getSpanBarStyles",value:function(){var e=this.props,t=e.theme,n=e.span,r=(0,e.generateBounds)(n);function a(e){if(e)return"max(1px, ".concat(e,")")}switch(n.comparisonResult){case"matched":var o=oe(n.baselineSpan),i=oe(n.regressionSpan);return o===i?{background:{color:void 0,width:a(he(r.background)),hatch:!0},foreground:void 0}:o>i?{background:{color:t.textColor,width:a(he(r.background))},foreground:{color:void 0,width:a(he(r.foreground)),hatch:!0}}:{background:{color:t.purple200,width:a(he(r.background))},foreground:{color:void 0,width:a(he(r.foreground)),hatch:!0}};case"regression":return{background:{color:t.purple200,width:a(he(r.background))},foreground:void 0};case"baseline":return{background:{color:t.textColor,width:a(he(r.background))},foreground:void 0};default:return n}}},{key:"renderComparisonReportLabel",value:function(){var e=this.props.span;switch(e.comparisonResult){case"matched":var t,n=oe(e.baselineSpan),r=oe(e.regressionSpan);if(n===r&&(t=(0,G.tZ)(Pe,null,(0,g.t)("No change"))),n>r){var a=(0,C.bQ)(Math.abs(n-r));t=(0,G.tZ)(Ne,null,(0,g.t)("- %s faster",a))}if(n<r){var o=(0,C.bQ)(Math.abs(n-r));t=(0,G.tZ)(Ne,null,(0,g.t)("+ %s slower",o))}return t;case"baseline":return(0,G.tZ)(Pe,null,(0,g.t)("Only in baseline"));case"regression":return(0,G.tZ)(Pe,null,(0,g.t)("Only in this event"));default:return e}}},{key:"renderHeader",value:function(e){var t,n,r=this,a=e.dividerPosition,o=e.addGhostDividerLineRef,i=this.props,s=i.spanNumber,l="matched"===i.span.comparisonResult,u=this.state.showDetail&&l,c=this.getSpanBarStyles(),p=c.foreground?(0,G.tZ)(Ee,{spanBarHatch:null!==(t=c.foreground.hatch)&&void 0!==t&&t,style:{backgroundColor:c.foreground.color,width:c.foreground.width,display:u?"none":"block"}}):null;return(0,G.tZ)(O.Hh,{showDetail:this.state.showDetail},(0,G.tZ)(O.sZ,{"data-type":"span-row-cell",showDetail:this.state.showDetail,style:{width:"calc(".concat((0,C.yI)(a)," - 0.5px)")},onClick:function(){r.toggleDisplayDetail()}},this.renderTitle()),this.renderDivider(e),(0,G.tZ)(O.sZ,{"data-type":"span-row-cell",showDetail:this.state.showDetail,showStriping:s%2!=0,style:{width:"calc(".concat((0,C.yI)(1-a)," - 0.5px)")},onClick:function(){r.toggleDisplayDetail()}},(0,G.tZ)(Oe,null,(0,G.tZ)(Ee,{spanBarHatch:null!==(n=c.background.hatch)&&void 0!==n&&n,style:{backgroundColor:c.background.color,width:c.background.width,display:u?"none":"block"}}),p),this.renderComparisonReportLabel()),!this.state.showDetail&&(0,G.tZ)(O.Hr,{style:{width:"calc(".concat((0,C.yI)(a)," + 0.5px)"),display:"none"}},(0,G.tZ)(O.xN,{ref:o(),style:{right:0},className:"hovering",onClick:function(e){e.stopPropagation()}})))}},{key:"renderDetail",value:function(){if(!this.state.showDetail)return null;var e=this.props,t=e.span,n=e.generateBounds;return(0,G.tZ)(_e,{span:this.props.span,bounds:n(t)})}},{key:"render",value:function(){var e=this;return(0,G.tZ)(N.ph,{visible:!0,"data-test-id":"span-row"},(0,G.tZ)(j.$,null,(function(t){return e.renderHeader(t)})),this.renderDetail())}}]),u}(u.Component);je.displayName="SpanBar";var Ee=(0,l.Z)(W,{target:"eh40ehk0",label:"ComparisonSpanBarRectangle"})("position:absolute;left:0;height:16px;",(function(e){return(0,N.xW)(e,e.theme.purple200,e.theme.gray500)})),Pe=(0,l.Z)("div",{target:"eh40ehk1",label:"ComparisonLabel"})("position:absolute;user-select:none;right:",(0,B.Z)(1),";line-height:",N.IB-2*N.GP,"px;top:",N.GP,"px;font-size:",(function(e){return e.theme.fontSizeExtraSmall}),";"),Oe=(0,l.Z)("div",{target:"eh40ehk2",label:"SpanContainer"})({name:"9q85gg",styles:"position:relative;margin-right:120px;"}),Ne=(0,l.Z)(Pe,{target:"eh40ehk3",label:"NotableComparisonLabel"})({name:"in3yi3",styles:"font-weight:bold;"});const Be=(0,E.Zz)(je);var Ie=function(e){(0,o.Z)(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function c(){var e;(0,r.Z)(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=l.call.apply(l,[this].concat(n)),(0,_.Z)((0,T.Z)(e),"state",{showSpanTree:!0}),(0,_.Z)((0,T.Z)(e),"toggleSpanTree",(function(){e.setState((function(e){return{showSpanTree:!e.showSpanTree}}))})),e}return(0,a.Z)(c,[{key:"renderSpanChildren",value:function(){return this.state.showSpanTree?this.props.renderedSpanChildren:null}},{key:"render",value:function(){var e=this.props,t=e.span,n=e.treeDepth,r=e.continuingTreeDepths,a=e.spanNumber,o=e.isLast,i=e.isRoot,s=e.numOfSpanChildren,l=e.generateBounds;return(0,G.tZ)(u.Fragment,null,(0,G.tZ)(Be,{span:t,treeDepth:n,continuingTreeDepths:r,spanNumber:a,isLast:o,isRoot:i,numOfSpanChildren:s,showSpanTree:this.state.showSpanTree,toggleSpanTree:this.toggleSpanTree,generateBounds:l}),this.renderSpanChildren())}}]),c}(u.Component);Ie.displayName="SpanGroup";const Me=Ie;function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ze=function(e){(0,o.Z)(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function c(){var e;(0,r.Z)(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=l.call.apply(l,[this].concat(n)),(0,_.Z)((0,T.Z)(e),"traceViewRef",u.createRef()),e}return(0,a.Z)(c,[{key:"renderSpan",value:function(e){var t,n,r=this,a=e.span,o=e.childSpans,i=e.spanNumber,s=e.treeDepth,l=e.continuingTreeDepths,c=e.isLast,p=e.isRoot,d=e.generateBounds,f=null!==(t=null===(n=o)||void 0===n?void 0:n[ce(a)])&&void 0!==t?t:[];delete(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,_.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))[ce(a)];var h=de(a)?{type:"orphan",depth:s}:s,m=c?l:[].concat((0,D.Z)(l),[h]),g=f.reduce((function(e,t,n){var a="".concat(ce(t)),i=r.renderSpan({spanNumber:e.nextSpanNumber,isLast:n+1===f.length,isRoot:!1,span:t,childSpans:o,continuingTreeDepths:m,treeDepth:s+1,generateBounds:d});return e.renderedSpanChildren.push((0,G.tZ)(u.Fragment,{key:a},i.spanTree)),e.nextSpanNumber=i.nextSpanNumber,e}),{renderedSpanChildren:[],nextSpanNumber:i+1}),v=(0,G.tZ)(u.Fragment,null,(0,G.tZ)(Me,{spanNumber:i,span:a,renderedSpanChildren:g.renderedSpanChildren,treeDepth:s,continuingTreeDepths:l,isRoot:p,isLast:c,numOfSpanChildren:f.length,generateBounds:d}));return{nextSpanNumber:g.nextSpanNumber,spanTree:v}}},{key:"renderRootSpans",value:function(){var e=this,t=this.props,n=function(e){for(var t=e.baselineEvent,n=e.regressionEvent,r=(0,C.k9)(t),a=(0,C.k9)(n),o=[],i={},s=0,l=Object.entries(r.childSpans);s<l.length;s++){var u=(0,J.Z)(l[s],2),c=u[0],p=u[1];i[c]=p.map((function(e){return{comparisonResult:"baseline",baselineSpan:e}}))}for(var d=0,f=Object.entries(a.childSpans);d<f.length;d++){var h=(0,J.Z)(f[d],2),m=h[0],g=h[1];i[m]=g.map((function(e){return{comparisonResult:"regression",regressionSpan:e}}))}for(var v=[{type:"root",baselineSpan:(0,C.n0)(r),regressionSpan:(0,C.n0)(a)}];v.length>0;){var b,y,Z=v.pop();if(!Z)break;var S=Z.baselineSpan,x=Z.regressionSpan;if(0!==ne({baselineSpan:S,regressionSpan:x})){var w={comparisonResult:"matched",span_id:re({baselineSpan:S,regressionSpan:x}),op:S.op,description:S.description,baselineSpan:S,regressionSpan:x};"root"===Z.type&&o.push(w);var k=te({parent_span_id:w.span_id,baseChildren:null!==(b=r.childSpans[S.span_id])&&void 0!==b?b:[],regressionChildren:null!==(y=a.childSpans[x.span_id])&&void 0!==y?y:[]}),R=k.comparablePairs,T=k.children;v.push.apply(v,(0,D.Z)(R)),T.length>0&&(i[w.span_id]=T)}else if("root"===Z.type){var _=[{comparisonResult:"baseline",baselineSpan:S},{comparisonResult:"regression",regressionSpan:x}];o.push.apply(o,_)}}return o.sort(ue),{rootSpans:o,childSpans:i}}({baselineEvent:t.baselineEvent,regressionEvent:t.regressionEvent}),r=n.rootSpans,a=n.childSpans,o=function(e){var t=Math.max.apply(Math,(0,D.Z)(e.map((function(e){return ae(e)}))));return function(e){switch(e.comparisonResult){case"matched":var n=oe(e.baselineSpan),r=oe(e.regressionSpan),a=fe({duration:n,largestDuration:t}),o=fe({duration:r,largestDuration:t});return n>=r?{background:a,foreground:o,baseline:a,regression:o}:{background:o,foreground:a,baseline:a,regression:o};case"regression":var i=fe({duration:oe(e.regressionSpan),largestDuration:t});return{background:i,foreground:void 0,baseline:void 0,regression:i};case"baseline":var s=fe({duration:oe(e.baselineSpan),largestDuration:t});return{background:s,foreground:void 0,baseline:s,regression:void 0};default:return e}}}(r),i=1;return{spanTree:(0,G.tZ)(u.Fragment,{key:"root-spans-tree"},r.map((function(t,n){var s=e.renderSpan({isLast:n+1===r.length,isRoot:!0,span:t,childSpans:a,spanNumber:i,treeDepth:0,continuingTreeDepths:[],generateBounds:o});return i=s.nextSpanNumber,(0,G.tZ)(u.Fragment,{key:String(n)},s.spanTree)}))),nextSpanNumber:i}}},{key:"render",value:function(){var e=this.renderRootSpans().spanTree;return(0,G.tZ)(j.z,{interactiveLayerRef:this.traceViewRef},(0,G.tZ)(Fe,{ref:this.traceViewRef},e))}}]),c}(u.Component);ze.displayName="SpanTree";var Fe=(0,l.Z)("div",{target:"e5golfc0",label:"TraceViewContainer"})({name:"1cf7fu1",styles:"overflow-x:hidden;border-bottom-left-radius:3px;border-bottom-right-radius:3px;"});const Ae=ze;var qe=function(e){var t=e.baselineEvent,n=e.regressionEvent;if(!ee(t)||!ee(n))return(0,G.tZ)(R.Z,null,(0,G.tZ)(k.FC,{color:"gray300",size:"lg"}),(0,G.tZ)("p",null,(0,g.t)("One of the given events is not a transaction.")));var r=(0,C.PA)(t),a=(0,C.PA)(n);return r&&a?(0,G.tZ)(Ae,{baselineEvent:t,regressionEvent:n}):(0,G.tZ)(R.Z,null,(0,G.tZ)(k.FC,{color:"gray300",size:"lg"}),(0,G.tZ)("p",null,(0,g.t)("There is no trace found in either of the given transactions.")))};qe.displayName="TraceView";const Ue=qe;var He=n("./app/components/links/link.tsx"),Ge=n("./app/views/performance/utils.tsx");var Ve=function(e){(0,o.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){return(0,r.Z)(this,u),l.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){var e=this.props,t=e.baselineEvent,n=e.regressionEvent,r=e.organization,a=e.location,o=e.params,i=o.baselineEventSlug,s=o.regressionEventSlug;if(!ee(t)||!ee(n))return null;var l=(0,C.k9)(t),u=(0,C.k9)(n),c=Math.abs(l.traceStartTimestamp-l.traceEndTimestamp),p=Math.abs(u.traceStartTimestamp-u.traceEndTimestamp);return(0,G.tZ)(Xe,null,(0,G.tZ)(We,null,(0,G.tZ)(Je,null),(0,G.tZ)($e,null,(0,G.tZ)(Ke,null,(0,G.tZ)(et,null,(0,g.t)("Baseline Event")),(0,G.tZ)(tt,null,(0,G.tZ)("span",null,(0,g.t)("ID"),": "),(0,G.tZ)(nt,{to:(0,Ge.DD)(r,i.trim(),t.title,a.query)},rt(t.eventID)))),(0,G.tZ)(Ye,null,(0,G.tZ)("span",null,(0,C.bQ)(c))))),(0,G.tZ)(We,null,(0,G.tZ)(Qe,null),(0,G.tZ)($e,null,(0,G.tZ)(Ke,null,(0,G.tZ)(et,null,(0,g.t)("This Event")),(0,G.tZ)(tt,null,(0,G.tZ)("span",null,(0,g.t)("ID"),": "),(0,G.tZ)(nt,{to:(0,Ge.DD)(r,s.trim(),n.title,a.query)},rt(n.eventID)))),(0,G.tZ)(Ye,null,(0,G.tZ)("span",null,(0,C.bQ)(p))))))}}]),u}(u.Component);Ve.displayName="TransactionSummary";var Xe=(0,l.Z)("div",{target:"e1w8a67g0",label:"Container"})("display:flex;flex-direction:column;justify-content:space-between;align-content:space-between;padding-bottom:",(0,B.Z)(1),";> * + *{margin-top:",(0,B.Z)(.75),";}"),We=(0,l.Z)("div",{target:"e1w8a67g1",label:"EventRow"})({name:"k008qs",styles:"display:flex;"}),Je=(0,l.Z)("div",{target:"e1w8a67g2",label:"Baseline"})("background-color:",(function(e){return e.theme.textColor}),";height:100%;width:4px;margin-right:",(0,B.Z)(1),";"),Qe=(0,l.Z)("div",{target:"e1w8a67g3",label:"Regression"})("background-color:",(function(e){return e.theme.purple200}),";height:100%;width:4px;margin-right:",(0,B.Z)(1),";"),$e=(0,l.Z)("div",{target:"e1w8a67g4",label:"EventRowContent"})({name:"1l0r181",styles:"flex-grow:1;display:flex;"}),Ye=(0,l.Z)("div",{target:"e1w8a67g5",label:"TimeDuration"})("display:flex;align-items:center;font-size:",(function(e){return e.theme.headerFontSize}),";line-height:1.2;margin-left:",(0,B.Z)(1),";"),Ke=(0,l.Z)("div",{target:"e1w8a67g6",label:"Content"})("flex-grow:1;width:150px;font-size:",(function(e){return e.theme.fontSizeMedium}),";"),et=(0,l.Z)("div",{target:"e1w8a67g7",label:"ContentTitle"})({name:"35ezg3",styles:"font-weight:600;"}),tt=(0,l.Z)("div",{target:"e1w8a67g8",label:"EventId"})("color:",(function(e){return e.theme.gray300}),";"),nt=(0,l.Z)(He.Z,{target:"e1w8a67g9",label:"StyledLink"})("color:",(function(e){return e.theme.gray300}),";");function rt(e){return e.substring(0,8)}const at=Ve;var ot=function(e){(0,o.Z)(c,e);var t,n,l=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function c(){return(0,r.Z)(this,c),l.apply(this,arguments)}return(0,a.Z)(c,[{key:"getTransactionName",value:function(){var e=this.props,t=e.baselineEvent,n=e.regressionEvent;return ee(t)&&ee(n)?t.title===n.title?t.title:(0,g.t)("mixed transaction names"):ee(t)?t.title:ee(n)?n.title:(0,g.t)("no transaction title found")}},{key:"render",value:function(){var e,t=this.props,n=t.baselineEvent,r=t.regressionEvent,a=t.organization,o=t.location,i=t.params,s=(0,S.ro)(null===(e=o.query)||void 0===e?void 0:e.view)===w.FilterViews.TRENDS,l=n.title!==r.title||s?void 0:n.title;return(0,G.tZ)(u.Fragment,null,(0,G.tZ)(y.h4,null,(0,G.tZ)(y.oB,null,(0,G.tZ)(x.Z,{organization:a,location:o,transactionName:l,transactionComparison:!0}),(0,G.tZ)(y.Dx,null,this.getTransactionName())),(0,G.tZ)(y.kP,null,(0,G.tZ)(at,{organization:a,location:o,params:i,baselineEvent:n,regressionEvent:r}))),(0,G.tZ)(y.uT,null,(0,G.tZ)(it,null,(0,G.tZ)(Ue,{baselineEvent:n,regressionEvent:r}))))}}]),c}(u.Component);ot.displayName="TransactionComparisonContent";var it=(0,l.Z)(Z.s_,{target:"e1il3mi40",label:"StyledPanel"})({name:"1ld9nr6",styles:"grid-column:1 / span 2;overflow:hidden;"});const st=ot;var lt=n("./app/utils/withApi.tsx");var ut=function(e){(0,o.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function u(){var e;(0,r.Z)(this,u);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=l.call.apply(l,[this].concat(n)),(0,_.Z)((0,T.Z)(e),"state",{isLoading:!0,tableFetchID:void 0,error:null,event:void 0}),e}return(0,a.Z)(u,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=e.orgSlug!==this.props.orgSlug,n=e.eventSlug!==this.props.eventSlug;this.state.isLoading||!t&&!n||this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.props,n=t.orgSlug,r=t.eventSlug,a="/organizations/".concat(n,"/events/").concat(r,"/"),o=Symbol("tableFetchID");this.setState({isLoading:!0,tableFetchID:o}),this.props.api.requestPromise(a,{method:"GET"}).then((function(t){e.state.tableFetchID===o&&e.setState({isLoading:!1,tableFetchID:void 0,error:null,event:t})})).catch((function(t){var n,r;e.setState({isLoading:!1,tableFetchID:void 0,error:null!==(n=null==t||null===(r=t.responseJSON)||void 0===r?void 0:r.detail)&&void 0!==n?n:null,event:void 0})}))}},{key:"render",value:function(){var e=this.state,t={isLoading:e.isLoading,error:e.error,event:e.event};return this.props.children(t)}}]),u}(u.Component);ut.displayName="FetchEvent";const ct=(0,lt.Z)(ut);var pt=function(e){(0,o.Z)(v,e);var t,n,l=(t=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function v(){return(0,r.Z)(this,v),l.apply(this,arguments)}return(0,a.Z)(v,[{key:"getEventSlugs",value:function(){var e=this.props.params,t=e.baselineEventSlug,n=e.regressionEventSlug;return{baselineEventSlug:"string"==typeof t?t.trim():void 0,regressionEventSlug:"string"==typeof n?n.trim():void 0}}},{key:"fetchEvent",value:function(e,t){if(!e)return(0,G.tZ)(p.Z,null);var n=this.props.organization;return(0,G.tZ)(ct,{orgSlug:n.slug,eventSlug:e},t)}},{key:"renderComparison",value:function(e){var t=this,n=e.baselineEventSlug,r=e.regressionEventSlug;return this.fetchEvent(n,(function(e){return t.fetchEvent(r,(function(n){if(e.isLoading||n.isLoading)return(0,G.tZ)(h.Z,null);if(e.error||n.error)return e.error&&c.Tb(e.error),n.error&&c.Tb(n.error),(0,G.tZ)(f.Z,null);if(!e.event||!n.event)return(0,G.tZ)(p.Z,null);var r=t.props,a=r.organization,o=r.location,i=r.params;return(0,G.tZ)(st,{organization:a,location:o,params:i,baselineEvent:e.event,regressionEvent:n.event})}))}))}},{key:"getDocumentTitle",value:function(e){var t=e.baselineEventSlug,n=e.regressionEventSlug;return"string"==typeof t&&"string"==typeof n?[(0,g.t)("Comparing %s to %s",t,n),(0,g.t)("Performance")].join(" - "):[(0,g.t)("Transaction Comparison"),(0,g.t)("Performance")].join(" - ")}},{key:"render",value:function(){var e=this.props.organization,t=this.getEventSlugs(),n=t.baselineEventSlug,r=t.regressionEventSlug;return(0,G.tZ)(m.Z,{title:this.getDocumentTitle({baselineEventSlug:n,regressionEventSlug:r}),orgSlug:e.slug},(0,G.tZ)(u.Fragment,null,(0,G.tZ)(dt,null,(0,G.tZ)(d.Z,{organization:e},this.renderComparison({baselineEventSlug:n,regressionEventSlug:r})))))}}]),v}(u.PureComponent);pt.displayName="TransactionComparisonPage";var dt=(0,l.Z)(v.JH,{target:"e1015nga0",label:"StyledPageContent"})({name:"y8aj3r",styles:"padding:0;"});const ft=(0,b.Z)(pt)},"./app/views/performance/transactionVitals/utils.tsx":(e,t,n)=>{"use strict";n.d(t,{Pl:()=>a,oZ:()=>o,eH:()=>i,L0:()=>s,jb:()=>l});var r=n("./app/utils/performance/histogram/utils.tsx");function a(e){var t,n=e.orgSlug,r=e.transaction,a=e.projectID,o=e.query;return{pathname:(t={orgSlug:n},"/organizations/".concat(t.orgSlug,"/performance/summary/vitals/")),query:{transaction:r,project:a,environment:o.environment,statsPeriod:o.statsPeriod,start:o.start,end:o.end,query:o.query}}}function o(e,t){var n=(0,r.te)(e);return!e.length||t>=e[e.length-1].bin+n?null:t<e[0].bin?-1:Math.floor((t-e[0].bin)/n)}function i(e){if(e.length<2)return null;for(var t=0;t<e.length;t++)for(var n=e[t],r=t+1;r<e.length;r++){var a=e[r];if(n.bin!==a.bin&&n.count!==a.count)return{point1:{x:t,y:Math.min(n.count,a.count)},point2:{x:r,y:Math.max(n.count,a.count)}}}return{point1:{x:0,y:0},point2:{x:1,y:1}}}function s(e,t){var n=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point1.x,t.point1.y]);if(isNaN(null==n?void 0:n[0])||isNaN(null==n?void 0:n[1]))return null;var r=e.convertToPixel({xAxisIndex:0,yAxisIndex:0},[t.point2.x,t.point2.y]);return isNaN(null==r?void 0:r[0])||isNaN(null==r?void 0:r[1])?null:{point1:{x:n[0],y:n[1]},point2:{x:r[0],y:r[1]}}}function l(e,t,n){if(t.point1.x===t.point2.x||t.point1.y===t.point2.y||n.point1.x===n.point2.x||n.point1.y===n.point2.y)return null;var r=(e.x-t.point1.x)/(t.point2.x-t.point1.x),a=(e.y-t.point1.y)/(t.point2.y-t.point1.y);return{x:n.point1.x+(n.point2.x-n.point1.x)*r,y:n.point1.y+(n.point2.y-n.point1.y)*a}}},"./app/views/settings/components/forms/controls/radioGroup.tsx":(e,t,n)=>{"use strict";n.d(t,{V:()=>h,Z:()=>b});var r=n("../../../../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("../../../../node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js"),s=n("../../../../node_modules/react/index.js"),l=n("../../../../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js"),u=n("./app/components/radio.tsx"),c=n("./app/styles/space.tsx"),p=n("../../../../node_modules/@emotion/core/dist/core.browser.esm.js"),d=function(e){var t=e.value,n=e.disabled,i=e.choices,l=e.label,c=e.onChange,d=e.orientInline,f=(0,o.Z)(e,["value","disabled","choices","label","onChange","orientInline"]);return(0,p.tZ)(m,(0,r.Z)({orientInline:d},f,{role:"radiogroup","aria-labelledby":l}),(i||[]).map((function(e,r){var o=(0,a.Z)(e,3),i=o[0],l=o[1],d=o[2];return(0,p.tZ)(h,{key:r,role:"radio",index:r,"aria-checked":t===i,disabled:n},(0,p.tZ)(u.Z,{"aria-label":i,disabled:n,checked:t===i,onChange:function(e){return!n&&c(i,e)}}),(0,p.tZ)(g,{disabled:n},l),d&&(0,p.tZ)(s.Fragment,null,(0,p.tZ)("div",null),(0,p.tZ)(v,null,d)))})))};d.displayName="RadioGroup";var f=function(e){return!["disabled","animate"].includes(e)&&(0,l.Z)(e)},h=(0,i.Z)("label",{shouldForwardProp:f,target:"e1r42lk40",label:"RadioLineItem"})("display:grid;grid-gap:0.25em 0.5em;grid-template-columns:max-content auto;align-items:center;cursor:",(function(e){return e.disabled?"default":"pointer"}),";outline:none;font-weight:normal;margin:0;"),m=(0,i.Z)("div",{target:"e1r42lk41",label:"Container"})("display:grid;grid-gap:",(function(e){return(0,c.Z)(e.orientInline?3:1)}),";grid-auto-flow:",(function(e){return e.orientInline?"column":"row"}),";grid-auto-rows:max-content;grid-auto-columns:max-content;"),g=(0,i.Z)("div",{shouldForwardProp:f,target:"e1r42lk42",label:"RadioLineText"})("opacity:",(function(e){return e.disabled?.4:null}),";"),v=(0,i.Z)("div",{target:"e1r42lk43",label:"Description"})("color:",(function(e){return e.theme.gray300}),";font-size:",(function(e){return e.theme.fontSizeRelativeSmall}),";line-height:1.4em;");const b=d},"../../../../node_modules/wink-jaro-distance/src/wink-jaro-distance.js":e=>{e.exports=function(e,t){var n=e.length,r=t.length;if(e===t)return{distance:0,similarity:1};if(!n||!r)return{distance:1,similarity:0};var a,o,i,s,l,u,c,p=e,d=t,f=0,h=0,m=Math.floor(Math.max(n,r)/2)-1,g=[];for(n>r&&(p=[d,d=p][0],n=[r,r=n][0]),s=new Array(r),a=0;a<r;a+=1)s[a]=!1;for(a=0;a<n;a+=1)for(i=p[a],l=Math.max(a-m,0),u=Math.min(a+m+1,r),o=l;o<u;o+=1)if(!s[o]&&i===d[o]){f+=1,s[o]=!0,g.push(i);break}for(a=0,o=0;o<f;a+=1)s[a]&&(d[a]!==g[o]&&(h+=1),o+=1);return h/=2,{distance:1-(c=0===f?0:(f/n+f/r+(f-h)/f)/3),similarity:c}}}}]);
//# sourceMappingURL=PerformanceCompareTransactions.js.map