[flake8]
docstring-convention = all
doctests = True
exclude =
    __pycache__,
    .bzr,
    .git,
    .hg,
    .svn,
    .tox,
    .vscode,
    *.pyc,
    bin,
    build,
    CVS,
    data,
    dist,
    docs,
    reports,
    sketches,
    tmp,
ignore =
    D211,  ; ignore "No blank lines allowed before class docstring" AND prefer D203 "1 blank line required before class docstring"
    D213,  ; ignore "Multi-line docstring summary should start at the second line"
    D402,  ; ignore "First line should not be the function’s “signature”"
    D415,  ; ignore "First line should end with a period, question mark, or exclamation point" AND prefer D400 "First line should end with a period"
    F721,  ; ignore "syntax error in doctest"
    W503,  ; ignore "line break before binary operator" according to black formatting
inline-quotes = double
jobs = 8
max-complexity = 15
max-doc-length = 88
max-line-length = 88
rst-directives =
    index,
    seealso,
rst-roles =
    class,
    const,
    func,
    meth,
    mod,
    ref,

[mypy]
exclude = (data/)|(templates/)|(typings/)
ignore_missing_imports = True
mypy_path = typings
show_column_numbers = True

[pydocstyle]
match = "(?!(conftest|test_)).*\.py"

[pytest]
addopts =
    --rootdir=.
    -vvv
    --durations=3
    --cov-config=tox.ini
    --cov-report=html
    --cov-report=term
    -n6
testpaths = tests
norecursedirs = .git docs/build
python_files = test_*.py
python_classes = *Suite
python_functions = test*
markers =
    log: Marks tests for the module log.py

[run]
branch = True
omit = */envs/*,*/tests/*,*/__init__.py,*/__main__.py

[report]
exclude_lines =
    pragma: no cover
    sys\.path\.insert.*
    .*?if __name__.*?__main__.*

[html]
directory = reports/test_coverage

